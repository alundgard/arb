/*! updated; 02-19-2018 06:41 PM */

Modulr.define("SITE_FOXNEWS:ch/world/main",["require","helper"],function(require,Helper){require(["modules/subscribe","modules/social"],function(){var prefix="ch/world/modules/",modules=Helper.setModulePaths(prefix,["icon-overlays","loadmore","sticky-rail","video","regions","outbrain","navigation"]);require(modules)})}),Modulr.define("SITE_FOXNEWS:ch/world/modules/icon-overlays",["require","jquery","FOX_GLOBAL:utils/media-query-detector","FOX_PLUGINS:MediaIconOverlay"],function(require,$){var Overlay=("mobile"===require("FOX_GLOBAL:utils/media-query-detector").current(),new(require("FOX_PLUGINS:MediaIconOverlay"))),OVERLAYS=[];OVERLAYS=[{targets:$("section.mixed-media .video-ct a img"),type:"video",size:32,edge:[12,12],position:"bottom right"},{targets:$("section.mixed-media .list-article-ct a img"),type:"list-article",size:32,edge:[12,12],position:"bottom right"},{targets:$("section.mixed-media .slideshow-ct a img"),type:"slideshow",size:48,edge:[14,14],position:"bottom right"},{targets:$("section.featured li.video-ct a img"),type:"video",size:32,edge:[12,12],position:"bottom right"},{targets:$("section.featured li.slideshow-ct a img"),type:"slideshow",size:32,edge:[12,12],position:"bottom right"},{targets:$("section.featured li.list-article-ct a img"),type:"list-article",size:32,edge:[12,12],position:"bottom right"},{targets:$(".world-region li.video-ct a img"),type:"video",size:32,edge:[12,12],position:"bottom right"},{targets:$(".world-region li.slideshow-ct a img"),type:"slideshow",size:32,edge:[12,12],position:"bottom right"},{targets:$(".world-region li.list-article-ct a img"),type:"list-article",size:32,edge:[12,12],position:"bottom right"},{targets:$(".main-article.video-ct a img"),type:"video",size:48,edge:[14,14],position:"bottom right"},{targets:$(".main-article.slideshow-ct a img"),type:"slideshow",size:48,edge:[14,14],position:"bottom right"},{targets:$(".main-article.list-article-ct a img"),type:"list-article",size:48,edge:[14,14],position:"bottom right"}];for(var set=function(item){var targets=item.targets;targets.each(function(){var elm=$(this),config={target:elm,type:item.type,edge:item.edge,size:item.size,position:item.position};config.responsive=!0,Overlay.embed(config)})},index=0;index<OVERLAYS.length;index++)set(OVERLAYS[index])}),Modulr.define("SITE_FOXNEWS:ch/world/modules/loadmore",["require","jquery","modules/cq-loadmore"],function(require,$){var LoadMore=require("modules/cq-loadmore");LoadMore({parentSelector:$(".mod-7 .js-infinite-list-component")})}),Modulr.define("SITE_FOXNEWS:ch/world/modules/navigation",["require","jquery"],function(require,$){function toProperCase(string){return string.replace(/\w\S*/g,function(text){return text.charAt(0).toUpperCase()+text.substr(1).toLowerCase()})}var section=$('meta[name="prism.subsection1"]').attr("content"),navigation=$("#content nav#sub ul");if(section){var navItem=navigation.find('li:contains("'+toProperCase(section)+'")');navItem.length?(navigation.find("li").removeClass("active"),navItem.addClass("active")):(navigation.find("li").removeClass("active"),navigation.find("li:eq(0)").addClass("active"))}else navigation.find("li").removeClass("active"),navigation.find("li:eq(0)").addClass("active")}),Modulr.define("SITE_FOXNEWS:ch/world/modules/outbrain",["jquery","require","helper","modules/outbrain","FOX_PLUGINS:OutbrainWidgetConnector"],function($,require,Helper){if(Helper.isArticlePage())return!1;var Shared=require("modules/outbrain"),Connector=new(require("FOX_PLUGINS:OutbrainWidgetConnector"));Shared.getPermalink(function(permalink){var config=[];$(".OUTBRAIN").each(function(){var elm=$(this),id=elm.attr("data-widget-id");config.push({addWidgetType:"data-widget",permalink:permalink,widgetId:id,Template:"foxnews",overlayDim:!1})}),Connector.addWidget(config)})}),Modulr.define("SITE_FOXNEWS:ch/world/modules/regions",["require","jquery"],function(require,$){var container=$(".maps"),region=container.find(".list > a");region.click(function(){var regionClass=this.className,$window=$(window);switch(regionClass){case"americas":$window.scrollTop($(".region > .title > h1:contains(Americas)").offset().top);break;case"europe":$window.scrollTop($(".region > .title > h1:contains(Europe)").offset().top);break;case"africa":$window.scrollTop($(".region > .title > h1:contains(Africa)").offset().top);break;case"mideast":$window.scrollTop($(".region > .title > h1:contains(Middle East)").offset().top);break;case"asia":$window.scrollTop($(".region > .title > h1:contains(Asia)").offset().top);break;case"australia":$window.scrollTop($(".region > .title > h1:contains(Australia)").offset().top);break;default:$window.scrollTop($(".region > .title > h1:contains(Americas)").offset().top)}})}),Modulr.define("SITE_FOXNEWS:ch/world/modules/sticky-rail",["require","jquery","FOX_GLOBAL:utils/media-query-detector","modules/sticky-rail"],function(require,$){var isMobile="mobile"===require("FOX_GLOBAL:utils/media-query-detector").current();if(!isMobile){var StickyRail=require("modules/sticky-rail");StickyRail.addSticky({container:$("#content.front section.featured"),targetElement:".left",companionElement:".right",targetOnLeft:!0,gap:12}),StickyRail.addSticky({container:$("#doc.world-region section.region"),targetElement:".right",companionElement:".left",targetOnLeft:!1,gap:12})}}),Modulr.define("SITE_FOXNEWS:ch/world/modules/video",["require","jquery","lodash","FOX_Videos"],function(require,$,_){var FOX_Videos=require("FOX_Videos"),isChrome=!!window.chrome,VIDEO_CONFIG={};VIDEO_CONFIG.app={},VIDEO_CONFIG.player={},VIDEO_CONFIG.events={},VIDEO_CONFIG.app.width=300,VIDEO_CONFIG.app.height=190,VIDEO_CONFIG.player.autoplay=isChrome?!1:!0;var App=function(){var Proto=this;Proto.initVideo=function(){var self=this,parent=$(".featured .left article");self.setVideo(parent)},Proto.setVideo=function(parent,stream){var videoHolder=$(".featured .left article"),videoId=videoHolder.attr("data-video-id"),videoDomain=videoHolder.attr("data-video-domain")||"foxnews";videoHolder.each(function(){!function(videoId,domain){_.merge(VIDEO_CONFIG,{app:{domain:domain,configParam:"noshare"}}),videoHolder.addClass("fox-video"),videoHolder.attr("data-video-domain",videoDomain),videoHolder.attr("data-widget-type","embed"),FOX_Videos.API.embed(videoHolder,VIDEO_CONFIG)}(videoId,videoDomain)})}},Video=new App;Video.initVideo()}),Modulr.define("SITE_FOXNEWS:modules/authentication",["require","jquery","FOX_GLOBAL:utils/environment","FOX_PLUGINS:OnWindowResize"],function(require){var $=require("jquery"),Utils=require("FOX_GLOBAL:utils/environment"),OnWindowResize=require("FOX_PLUGINS:OnWindowResize"),CONST={};CONST.touchevent="ontouchstart"in document.documentElement?"touchstart":"click",CONST.loggedIN='   <div class="desktop">                <a href="#"><img src="${avatar}" alt=""></a>                <div id="profile-hover">                    <div>                        <span></span>                        <ul>                            <li><a target=_blank href="//www.foxnews.com/community/user/profile/edit">Profile</a></li>                            <li><a class="logout" href="#">Log Out</a></li>                        </ul>                    </div>                </div>            </div>            <div class="mobile-tablet">                <div class="welcome">Welcome, <span>${username}</span></div>                    <div class="access">                    <a class="profile" href="#">Profile</a> |                    <a class="logout" href="#">Logout</a>                </div>            </div>        ',CONST.loggedOUT='<div class="access mobile-tablet"><a class="login" href="#">Login</a></div><a class="login desktop" href="#">Login</a>';var App=function(){this.initialized=!1,this._data=!1};App.prototype.init=function(){function addViewportClass(width){1024>width?(self._elm.addClass("mobile-tablet"),self._elm.removeClass("desktop")):(self._elm.addClass("desktop"),self._elm.removeClass("mobile-tablet"))}var self=this,win=$(window),winWidth=win.width();self.initialized||(self.initialized=!0,self._elm=$("#network #account"),self._elm.addClass("network-access"),addViewportClass(winWidth),OnWindowResize(function(){winWidth=win.width(),addViewportClass(winWidth)}),$.loadAttempt(50,250,function(){return window.AUTH_LoginState?!0:!1},function(){self.set()}))},App.prototype.set=function(){var self=this;window.AUTH_LoginState.bind("onLogin",function(data){self.onLogin(data),self._elm.hover(function(){self._elm.find("#profile-hover").show()},function(){self._elm.find("#profile-hover").hide(),$(".logged-out").show()})}),window.AUTH_LoginState.bind("onLogout",function(data){self.onLogout(data),self._elm.removeClass("logged-in"),self._elm.unbind("hover")})},App.prototype.onLogin=function(data){var self=this,elm=self._elm,markup=CONST.loggedIN,avatar=self.getAvatar(data);markup=markup.replace(/\${username}/g,data.user.displayName),markup=markup.replace("${avatar}",avatar),elm.html(markup),elm.addClass("logged-in"),$("#network, header.masthead").addClass("logged-in"),elm.find("a:first, .profile").bind(CONST.touchevent,function(){return data.events.editProfile(),!1}),elm.find("a.logout").bind(CONST.touchevent,function(){return data.events.janrain.signOut(),!1})},App.prototype.getAvatar=function(data){var ret=Utils.getStaticDomain()+"/static/v/fn2/img/user-avatar.jpg",photos=data&&data.user&&data.user.userJanrain&&data.user.userJanrain.photos&&$.isArray(data.user.userJanrain.photos)?data.user.userJanrain.photos:!1;if(photos){var x,sel=!1;for(x=0;x<photos.length;x++){var item=photos[x];"square_thumbnail"===item.type&&item.value&&(sel=item.value)}sel&&(ret=sel)}return ret},App.prototype.onLogout=function(data){var self=this,elm=self._elm,markup=CONST.loggedOUT;elm.html(markup),elm.removeClass("logged-in"),$("#network, header.masthead").removeClass("logged-in"),elm.find(".login").bind(CONST.touchevent,function(){return data.events.janrain.signin(),!1})};var APP=new App;return APP.init(),window.AUTH_LoginState}),Modulr.define("SITE_FOXNEWS:modules/box-embed-mobile",["require","jquery"],function(require,$){var App=function(){var sect=$('meta[name="prism.subsection1"]').attr("content"),userAgent=window.navigator.userAgent,ios=userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)?!0:!1;if(!ios||"interactive"!==sect)return!1;var intr=$(".interactive"),frm=intr.find("iframe"),str="Tap here to view",box=frm.length>0&&frm.attr("src").indexOf("app.box.com")>-1?!0:!1;if(box){var src=frm.attr("src"),dom='<a href="'+src+'">'+str+"</a>";frm.remove(),intr.append(dom)}};return new App}),Modulr.define("SITE_FOXNEWS:modules/breaking.news",["require","jquery","lodash","FOX_GLOBAL:modules/breaking.news","FOX_TEMPLATES:controls/api"],function(require,$,_){var BreakingNews=require("FOX_GLOBAL:modules/breaking.news"),Template=require("FOX_TEMPLATES:controls/api"),target=$(".alert:first");return 0===target.length?!1:void Template.get("/static/cq/fn/js/app/templates/breaking.news.html",function(template){BreakingNews.loadBanner(target,{template:template,normalize:function(info){return info.title=info.title.toUpperCase(),info.headline=["- ",info.headline.toUpperCase()," -"].join(""),info.isWatchLive="livecoverage"===info.type.toLowerCase()?!0:!1,info},callback:function(info){target.attr("id",info.id)}})})}),Modulr.define("SITE_FOXNEWS:modules/cq-loadmore",["require","jquery","FOX_PLUGINS:MediaIconOverlay"],function(require,$){var mediaOverlay=new(require("FOX_PLUGINS:MediaIconOverlay")),App=function(config,setOverlay){config=config?config:{},setOverlay=setOverlay||!0;var templateBtn=config.templateBtn?config.templateBtn:null,parentSelector=config.parentSelector?config.parentSelector:$(".js-infinite-list-component"),overlaySize=config.overlaySize?config.overlaySize:32,newOverlay=config.newOverlay?!0:!1,btnSelector=config.btnSelector?config.btnSelector:$(".js-load-more a"),btnClass=config.btnClass?config.btnClass:"loading",loading=config.loading?config.loading.callback:null,loaded=config.loaded?config.loaded.callback:null,callbackConfig={};callbackConfig.appConfig=config,callbackConfig.appConfig.btnSelector=btnSelector,parentSelector.each(function(){var holder=$(this),btn=btnSelector;null===templateBtn?btn.html("<div class='loader'></div><span>"+btn.text()+"</span>"):btn.html(templateBtn+"<span>"+btn.text()+"</span>"),holder.on("CQ.LoadMoreEvent:loading",function(){btn.addClass(btnClass),config.loading&&loading.apply(callbackConfig)}),holder.on("CQ.LoadMoreEvent:loaded",function(){btn.removeClass(btnClass);var articles=holder.find("li[class*=-ct]");setOverlay&&articles.length>0&&articles.each(function(){var type,overylayConfig,article=$(this),image=article.find("img");0===article.find("div.overlay-media").length&&image&&(type=article.attr("class").replace("-ct",""),["video","slideshow"].indexOf(type)>-1&&newOverlay&&(type+="2"),overylayConfig={target:image,type:type,size:overlaySize},mediaOverlay.embed(overylayConfig))}),config.loaded&&loaded.apply(callbackConfig)})})};return App}),Modulr.define("SITE_FOXNEWS:modules/icon-overlay",["require","jquery","helper","FOX_PLUGINS:MediaIconOverlay"],function(require,$,Helper){var Overlay=new(require("FOX_PLUGINS:MediaIconOverlay")),App=function(){var Proto=this;Proto.set=function(config){for(var i=0;i<config.length;i++)render(config[i])},Proto.embed=function(config){Overlay.embed(config)}},render=function(item){var target=item.target;item.type?target.find(".m img").each(function(){var config={target:$(this),type:item.type,size:item.size||null,responsive:!0,position:item.position||null};Overlay.embed(config)}):target.find("[class*='-ct']").each(function(){var el=$(this),type=item.type||getType(el);if(type){var config={target:el.find(".m img"),type:type,size:item.size||null,responsive:!0,position:item.position||null};Overlay.embed(config)}})},getType=function(target){for(var type=!1,arr=(target.attr("class")||"").split(" "),i=0;i<arr.length;i++){var val=arr[i].replace(/\s+/gi,"");if(/\-ct$/.test(val)){type=val.replace("-ct","");break}}return type};return new App}),Modulr.define("SITE_FOXNEWS:modules/image-resizer",["require","jquery"],function(require,$){var App=function(config,callback,force){var self,source,resizedSrc,i=0,re=/(\/\d{3,4}\/\d{3}\/)/,re2=/(\/0\/\d+\/)/;if(config.urlCheck=config.urlCheck||"a57.foxnews.com",("number"!=typeof config.width||"number"!=typeof config.height)&&(config.width=+config.width,config.height=+config.height),"string"==typeof config.domSel){var url=config.domSel.split("/"),idx=url.length;return config.width||(config.width=url[idx-3]),config.height||(config.height=url[idx-2]),url[idx-3]=config.width,url[idx-2]=config.height,url=url.join("/"),"function"==typeof callback&&callback(),url}if($.isArray(config.domSel)){for(i;i<config.domSel.length;i++)$(config.domSel[i]).each(function(){return self=$(this),source=self.attr("src"),resizedSrc=source.replace(re,"/"+config.width+"/"+config.height+"/"),(/(_jcr_content)/.test(source)&&force===!0||source.indexOf("/0/")>0)&&(resizedSrc=source.replace(re2,"/"+config.width+"/"+config.height+"/")),source.indexOf(config.urlCheck)<-1?!1:void self.attr("src",resizedSrc)});"function"==typeof callback&&callback()}};return App}),Modulr.define("SITE_FOXNEWS:modules/newsletter",["require","jquery","FOX_PLUGINS:NewslettersForm"],function(require){var NewslettersForm=(require("jquery"),require("FOX_PLUGINS:NewslettersForm")),App=function(){var Proto=this;Proto.set=function(form,callbacks){var SLID=form.find("input[name='slid']").val();if(!SLID)return!1;callbacks=callbacks||{};var config={elm:form,SLID:SLID};if(callbacks)for(var i in callbacks)callbacks[i]&&"function"==typeof callbacks[i]&&(config[i]=callbacks[i]);new NewslettersForm(config)}};return new App}),Modulr.define("SITE_FOXNEWS:modules/outbrain",["require","jquery","FOX_GLOBAL:utils/environment","FOX_GLOBAL:utils/search-query"],function(require){var $=require("jquery"),Utils=require("FOX_GLOBAL:utils/environment"),Query=require("FOX_GLOBAL:utils/search-query"),App=function(){var USE_URL={},Proto=this;Proto.getPermalink=function(callback){var loc=window.location,permalink=loc.protocol+"//"+(loc.host||loc.hostname)+loc.pathname;if(customUrl=Query.getVal("_oburl"),customUrl)callback(customUrl);else if(Utils.isProd())callback(permalink);else{var channel=$.trim($("meta[name='prism.section']").attr("content")||"politics"),callbackFN="OBCB_"+channel.replace(/[^a-z]/g,"_");if(window[callbackFN])$.loadAttempt(50,250,function(){return USE_URL[channel]?!0:!1},function(){callback(USE_URL[channel])});else{window[callbackFN]=function(data){var useUrl=permalink;if(data&&data.response&&$.isArray(data.response.docs)&&data.response.docs.length>0)for(var docs=data.response.docs,x=0;x<docs.length;x++){var url=$.isArray(docs[x].url)?docs[x].url[0]:!1,ch="string"==typeof url&&url.split("/")[3]?url.split("/")[3]:!1;if(ch===channel){useUrl=url;break}}USE_URL[channel]=useUrl,callback(useUrl)};var url="//www.foxnews.com/feeds/trending/"+channel+"/feed/json?callback="+callbackFN;$.ajax({url:url,dataType:"script",cache:!0,async:!0})}}}};return new App}),Modulr.define("SITE_FOXNEWS:modules/search-box",["require","jquery"],function(require){function set(searchForm){searchForm.attr("action","//www.foxnews.com/search-results/search"),searchForm.each(function(){var form=$(this),input=form.find("input[type='text']"),inputOrigVal=(form.find("input[type='image'],input[type='submit']"),input.attr("value"));input.unbind("blur").unbind("focus"),input.attr({name:"q",onblur:"",onfocus:"",autocomplete:"off"}).blur(function(){var inp=$(this),str=inp.attr("value").length>0?inp.attr("value"):inputOrigVal;inp.attr("value",str)}).focus(function(){var inp=$(this),str=inp.attr("value").indexOf(inputOrigVal)>-1?"":inp.attr("value");inp.attr("value",str)})})}var $=require("jquery");$("header#top .search").parent().each(function(){var elm=$(this);elm.children(".search").length>0&&set(elm)})}),Modulr.define("SITE_FOXNEWS:modules/social",["require","jquery","FOX_PLUGINS:SocialMediaShare"],function(require){var $=require("jquery"),Social=require("FOX_PLUGINS:SocialMediaShare"),config=!1,loc=window.location;$(".info").filter(function(){return $(this).find(".social.sm").length>0?!0:!1}).each(function(){var elm=$(this),holder=elm.find(".social.sm"),targets=holder.find("> a"),provider=!1,title=$.trim(elm.find("h3").text()||""),url=elm.find("h3 a").attr("href")||"#";-1===url.indexOf("http")&&-1===url.indexOf("//")&&(url=loc.protocol+"//"+(loc.host||loc.hostname)+url),targets.each(function(){var a=$(this);a.hasClass("fbk")?provider="facebook":a.hasClass("twt")&&(provider="twitter"),provider&&(config||(config={}),config[provider]||(config[provider]=[])),config[provider].push({target:a,title:title,url:url,relateds:"&via=foxnews&hashtags=foxnews"})})}),config&&Social(config)}),Modulr.define("SITE_FOXNEWS:modules/sticky-rail",["require","jquery","lodash"],function(require,$,_){var App=function(){var CONST={WAITING_TOP:1,WAITING_BOTTOM:2,STUCK:3},self=this,STICKIES=[],normalized=!1,previousScroll=null,$window=$(window),windowHeight=$window.height();this._enabled=!0,this._initialized=!1,$window.load(function(){STICKIES.length>0&&self.normalize()}),$(document).ready(function(){STICKIES.length>0&&self.normalize()});var resizeEvent=_.throttle(function(){STICKIES.length>0&&self.normalize()},500),setPosition=function(sticky,top,stickIt){sticky.targetElement.css({transition:""}).css({position:stickIt?"fixed":"relative",left:sticky.targetOnLeft===!1&&stickIt?sticky.leftFixed:"",top:top+"px"})},scrollEvent=_.throttle(function(){var currentScroll=Math.round($window.scrollTop());if(self._enabled&&normalized&&STICKIES.length>0)if(self.normalize(),null===previousScroll&&(previousScroll=currentScroll),previousScroll=currentScroll,0===currentScroll)for(var i=0;i<STICKIES.length;i++)setPosition(STICKIES[i],STICKIES[i].topWaiting,!1),STICKIES[i].status=CONST.WAITING_TOP;else for(var index=0;index<STICKIES.length;index++){var sticky=STICKIES[index];if(currentScroll>=sticky.companion.bottom)sticky.status!==CONST.WAITING_BOTTOM&&(setPosition(sticky,sticky.bottomWaiting,!1),sticky.status=CONST.WAITING_BOTTOM);else if(currentScroll<=sticky.companion.top-windowHeight)sticky.status!==CONST.WAITING_TOP&&(setPosition(sticky,sticky.topWaiting,!1),sticky.status=CONST.WAITING_TOP);else if(sticky.status===CONST.WAITING_TOP){if(currentScroll>=sticky.scrollTopBegin&&(setPosition(sticky,sticky.fixed,!0),sticky.status=CONST.STUCK),currentScroll>=sticky.scrollTopEnd){setPosition(sticky,sticky.bottomWaiting,!1),sticky.status=CONST.WAITING_BOTTOM;continue}}else if(sticky.status===CONST.STUCK){if(currentScroll>=sticky.scrollTopEnd){setPosition(sticky,sticky.bottomWaiting,!1),sticky.status=CONST.WAITING_BOTTOM;continue}if(currentScroll<=sticky.scrollTopBegin){setPosition(sticky,sticky.topWaiting,!1),sticky.status=CONST.WAITING_TOP;continue}}else if(sticky.status===CONST.WAITING_BOTTOM){if(currentScroll<=sticky.scrollTopBegin){setPosition(sticky,sticky.topWaiting,!1),sticky.status=CONST.WAITING_TOP;continue}if(currentScroll<=sticky.scrollTopEnd){setPosition(sticky,sticky.fixed,!0),sticky.status=CONST.STUCK;continue}}}},100);$window.scroll(scrollEvent),$window.resize(resizeEvent),$window.bind("mousewheel DOMMouseScroll wheel touchmove scroll gesturechange",function(event){scrollEvent()}),$("body").on({touchmove:function(event){scrollEvent()}}),this.addSticky=function(config){this._initialized=!0,config.container.each(function(){$(this).find(config.targetElement).index&&$(this).find(config.companionElement).index&&STICKIES.push({container:$(this),targetOnLeft:config.hasOwnProperty("targetOnLeft")?config.targetOnLeft:!0,gap:config.hasOwnProperty("gap")?config.gap:12,targetElement:$(this).find(config.targetElement),companionElement:$(this).find(config.companionElement)})}),this._disableWidth=config.hasOwnProperty("disableWidth")&&config.disableWidth===!0?!0:!1,this._fixLeftPosition=config.hasOwnProperty("fixLeftPosition")&&"number"==typeof config.fixLeftPosition?parseInt(config.fixLeftPosition,10):0,this.normalize()},this.disableSticky=function(config){this._enabled=!1,config.container.find(config.targetElement).attr("style","")},this.enableSticky=function(config){this._enabled=!0,this._initialized||this.addSticky(config)},this.normalize=function(){windowHeight=$window.height();for(var index=0;index<STICKIES.length;index++){var container=STICKIES[index].container,targetOnLeft=STICKIES[index].targetOnLeft,gap=STICKIES[index].gap,target=STICKIES[index].targetElement,companion=STICKIES[index].companionElement,ch=companion.height(),ct=companion.offset().top,cb=ct+ch,cl=container.offset().left,cw=container.width(),th=(target.position().left,target.height()),tw=target.width();STICKIES[index].companion={top:ct,bottom:ct+ch,height:ch},STICKIES[index].target={height:th},targetOnLeft===!1&&(STICKIES[index].leftFixed=STICKIES[index].hasOwnProperty("leftFixed")?STICKIES[index].leftFixed:cl+cw-tw),STICKIES[index].leftFixed=cl+cw-tw+this._fixLeftPosition,STICKIES[index].topWaiting="0",STICKIES[index].bottomWaiting=ch-th,STICKIES[index].fixed=gap,STICKIES[index].scrollTopBegin=ct-gap,STICKIES[index].scrollTopEnd=cb-th-gap,STICKIES[index].targetElement=target,STICKIES[index].companionElement=companion,STICKIES[index].status=STICKIES[index].hasOwnProperty("status")?STICKIES[index].status:CONST.WAITING_TOP,this._disableWidth||target.css("width",target.width()+"px")}normalized=!0,scrollEvent()}};return new App}),Modulr.define("SITE_FOXNEWS:modules/subscribe",["require","jquery","FOX_PLUGINS:NewslettersForm"],function(require){var $=require("jquery"),NewslettersForm=require("FOX_PLUGINS:NewslettersForm");$(".subscribe form#subscribe:first").each(function(){var form=$(this),parent=form.closest(".subscribe"),info=parent.find("> div > span:first"),input=form.find("input[name='signup']"),SLID=form.find("input[name='slid']").val();if(!SLID)return!1;var config={elm:form,SLID:SLID,onSuccess:function(){form.addClass("hide"),info.addClass("show")},onError:function(){input.addClass("error")},onFocus:function(){input.removeClass("error")}};new NewslettersForm(config)})}),Modulr.define("SITE_FOXNEWS:modules/twitter",["require","jquery","lodash","helper","models/feeds/twitter"],function(require){var _=(require("jquery"),require("lodash")),Feed=require("models/feeds/twitter"),App=(require("helper"),function(){});return App.prototype.latestTweet=function(info,callback){info.screen_name=info.screen_name||info.holder.attr("data-account-name"),info.options=info.options||{},_.merge(info.options,{count:info.holder.attr("data-num-items")||1}),Feed.getLatestTweet(info.screen_name,info.options||{},function(data){var markup=!1,markupArr=[],obj={data:data};if(info.template){var i=0;for(var j in data)data.hasOwnProperty(j)&&(markup=_.template(info.template,data[i]),markupArr.push(markup),markup=markupArr.join(""),obj.markup=markup,i++)}callback(obj)})},new App}),Modulr.define("SITE_FOXNEWS:modules/vs-meter",["require","d3"],function(require){function getId(){return UID++,"vs-meter-"+UID}var d3=require("d3"),UID=0,App=function(holder,config){function getAngle(angle){return angle*deg}function arcTween(transition,info){transition.attrTween("d",function(d){var interpolateStart=d3.interpolate(d.startAngle,info.startAngle),interpolateEnd=d3.interpolate(d.endAngle,info.endAngle);return function(t){return d.endAngle=interpolateEnd(t),d.startAngle=interpolateStart(t),ARC(d)}})}var Proto=this,width=config.width,height=config.height,pi=Math.PI,deg=pi/180,uid=getId();holder.attr("id",uid),holder.find(".fill").hide();var ARC=d3.svg.arc().innerRadius(config.arc.innerRadius).outerRadius(config.arc.outerRadius).startAngle(getAngle(config.arc.startAngle)),translate=[width/2,height/2],CANVAS=d3.select("#"+uid).append("svg").attr("width",width).attr("height",height).attr("id","canvas-"+uid).append("g").attr("transform","translate("+translate.join(",")+")");CANVAS.append("path").datum({endAngle:getAngle(config.arc.endAngle)}).style("fill",config.bg.fill).attr("class","bg").attr("d",ARC);"full"===config.type?(CANVAS.append("path").datum({startAngle:getAngle(180),endAngle:getAngle(180+config.meter.arc.minAngle)}).style("fill",config.meter.fill).attr("class","meter-l").attr("d",ARC),CANVAS.append("path").datum({startAngle:getAngle(180),endAngle:getAngle(180-config.meter.arc.minAngle)}).style("fill",config.meter.fill).attr("class","meter-r").attr("d",ARC)):CANVAS.append("path").datum({startAngle:getAngle(config.arc.startAngle),endAngle:getAngle(config.meter.arc.minAngle)}).style("fill",config.meter.fill).attr("class","meter").attr("d",ARC),Proto.refresh=function(angle,animate){var duration=animate?500:0;"full"===config.type?(CANVAS.select("path.meter-l").transition().duration(duration).call(arcTween,{startAngle:getAngle(180+config.meter.arc.minAngle),endAngle:getAngle(180+angle)}),CANVAS.select("path.meter-r").transition().duration(duration).call(arcTween,{startAngle:getAngle(180-config.meter.arc.minAngle),endAngle:getAngle(180-angle)})):CANVAS.select("path.meter").transition().duration(duration).call(arcTween,{startAngle:getAngle(config.arc.startAngle),endAngle:getAngle(angle)})}};return App}),Modulr.define("SITE_FOXNEWS:models/feeds/twitter",["require","jquery","feed","helper","FOX_PLUGINS:DateTime"],function(require,$){var CONFIG=require("feed"),Helper=require("helper"),DateTime=require("FOX_PLUGINS:DateTime"),CONST={url:CONFIG.feeds.twitter.url},App=function(){};App.prototype.loadTwitterFeed=function(info,callback){info.params.push("api_call_type=statuses/user_timeline"),loadFeed(info,function(data){callback(data)})},App.prototype.getLatestTweet=function(screen_name,options,callback){var self=this,id="latest_"+screen_name.replace(/[^0-9A-Za-z]/gi,"");options=options||{};var params=["screen_name="+screen_name,"count="+options.count,"exclude_replies="+(options.exclude_replies===!1?"false":!0)],normalize=function(data){for(var raw,info={},i=0;i<options.count;i++)raw=data[i],info[i]={},info[i].raw=raw,info[i].norm={profile:{img:raw.user.profile_image_url,img_large:raw.user.profile_image_url.replace("_normal",""),name:raw.user.name},text:formatTweet(raw.text),created_at:DateTime(formatDate(raw.created_at,!0),"${month} ${dd}, ${yr}"),created_at_short:DateTime(formatDate(raw.created_at,!0),"${month:short} ${dd}"),created_at_today:getTime(raw.created_at),links:{reply:twitterLinks("reply",raw.id_str),retweet:twitterLinks("retweet",raw.id_str),favorite:twitterLinks("favorite",raw.id_str)}};callback(info)};self.loadTwitterFeed({id:id,params:params},function(data){normalize(data)})};var getTime=function(date){var systemDate=new Date(Date.parse(date)),userDate=new Date;(-1!==navigator.userAgent.indexOf("MSIE")||/(Trident\/.*rv:[0-9]{1,}[\.0-9]{0,})/.test(navigator.userAgent))&&(systemDate=Date.parse(date.replace(/( \+)/," UTC$1")));var diff=Math.floor((userDate-systemDate)/1e3);return 1>=diff?"just now":59>=diff?"less than a minute ago":90>=diff?"1 minute ago":3540>=diff?Math.round(diff/60)+" minutes ago":5400>=diff?"1 hour ago":86400>=diff?Math.round(diff/3600)+" hours ago":129600>=diff?"1 day ago":604799>=diff?Math.round(diff/86400)+" days ago":systemDate},loadFeed=function(info,callback){window[info.id]=function(data){callback(data)},info.params.push("callback="+info.id),info.params.push("cb="+Helper.cacheBuster(2));var url=CONST.url+"?"+info.params.join("&");$.ajax({url:url,dataType:"script",cache:!1})},formatTweet=function(text,types){var x,i,z,replace={},matches={links:text.match(/\http:\/\/\S+/gi),users:text.match(/@[a-zA-Z0-9\-\_]+/gi),terms:text.match(/#[a-zA-Z0-9\-\_]+/gi)},replaceTMP={links:'<a target="_blank" href="${item}" target="_blank" class="hyper-word">${item}</a>',users:'<a target="_blank" href="//twitter.com/${link}">${item}</a>',terms:'<a target="_blank" href="//twitter.com/${link}">${item}</a>'};if(types)for(z=0;z<types.lenth;z++){var t=type[z];replaceTMP[t]&&(replace[t]=replaceTMP[t])}else replace=replaceTMP;for(i in matches){var match=matches[i];if(match&&replace[i]){var len=match.length;for(x=0;len>x;x++){var item=match[x];text="users"===i?text.replace(item,replace[i].replace(/(\$\{item\})/g,item).replace(/(\$\{link\})/g,item.slice(1))):"terms"===i?text.replace(item,replace[i].replace(/(\$\{item\})/g,item).replace(/(\$\{link\})/g,"search?q="+item.slice(1))):text.replace(item,replace[i].replace(/(\$\{item\})/g,item))}}}return text},twitterLinks=function(type,id){var ret="";switch(type){case"reply":ret="//twitter.com/intent/tweet?in_reply_to="+id;break;case"retweet":ret="//twitter.com/intent/retweet?tweet_id="+id;break;case"favorite":ret="//twitter.com/intent/favorite?tweet_id="+id}return ret},formatDate=function(str,type){if(type===!0){var monthArr=["","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],sp=str.split(" "),mm=_.indexOf(monthArr,sp[1].toLowerCase()),dd=sp[2],yr=sp[sp.length-1],dt=new Date([mm,dd,yr].join("/")+" 00:00:00");return dt}var getHour=str.split(" ")[3],hour=getHour.split(":");return hour};return new App}),Modulr.define("SITE_FOXNEWS:main",["require","helper","FOX_GLOBAL:utils/environment"],function(require,Helper){function allowReload(){var type=$("meta[name='prism.aggregationType']").attr("content")||"",ret=/(front|category|root)/.test(type);return ret}var Utils=require("FOX_GLOBAL:utils/environment"),exceptions=["archive","great-outdoors"];require(["modules/authentication","modules/breaking.news","modules/search-box","modules/box-embed-mobile","FOX_GLOBAL:utils/page-reload"],function(){var PageReload=require("FOX_GLOBAL:utils/page-reload"),section=Utils.getSection()||"";allowReload()&&PageReload.enable(10,!0),section.length>0&&-1===exceptions.indexOf(section)&&require(["ch/"+section+"/main"])})}),function(Modulr,$){var uid="SITE_FOXNEWS";if(Modulr.getInstance(uid))return!1;var domain=window.FOX_ENV_STATIC_DOMAIN,Instance=Modulr.config({instance:uid,baseDomain:domain,baseUrl:"/static/cq/fn/js/app",paths:{"@recipes":"/ch/food-drink/sub/recipes"},masterFile:"/static/v/all/js/require/modulr.master.js",
packages:["FOX_GLOBAL","FOX_PLUGINS","FOX_TEMPLATES","GLOBAL_CQ"],shim:{jquery:{src:"/static/v/all/js/ag.jquery.js",exports:"jQuery"},modernizr:{src:"/static/v/all/js/modernizr/modernizr.js",exports:"Modernizr"},lodash:{src:"/static/v/all/js/lodash.js",exports:"_"},d3:{src:"/static/v/all/js/d3/d3.js",exports:"d3"},AKAMAI_TIME_HELPER:{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"AKAMAI_TIME_HELPER"},CONST_Akamai_GEO:{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"CONST_Akamai_GEO"},FOX_POLLS:{src:"/static/v/all/js/apps/polls/ag.script.js",exports:"FOX_Polls"},FOX_Videos:{src:"/static/p/video/app/embed/ag.script.js",exports:"FOX_Videos"},FOX_WeatherService:{src:"/static/v/all/js/WeatherService.js",exports:"FOX_WeatherService"},livefyre:{src:"//cdn.livefyre.com/Livefyre.js",exports:"Livefyre"}}});Instance.require(["main"]),Instance.define("ENV.PROD",[],function(){return"prod"===window.FOX_ENV_STATIC?!0:!1}),Instance.define("ENV.DOMAIN",[],function(){return window.FOX_ENV_STATIC_DOMAIN})}(window.Modulr,window.jQuery);