/*! updated; 02-19-2018 06:41 PM */

Modulr.define("FOX_ARTICLES:helper",["require","jquery","jquery.unveil","GeoLocation","modernizr","FOX_GLOBAL:utils/environment"],function(require,$){var Env=require("FOX_GLOBAL:utils/environment"),Geo=require("GeoLocation"),Modernizr=require("modernizr"),Helper={};return Helper.getArticleBody=function(){var el=$("article div[itemprop='articleBody']");return 0===el.length&&(el=$("article .article-body")),el},Helper.log=function(){if(window.console){var args=Array.prototype.slice.call(arguments);args.unshift("[FOX.ARTICLES] ");try{return console.log.apply(console,args)}catch(err){console.log(args.join(" | "))}}},Helper.setLoader=function(items){function trigger(info){var target=info.target,className="loader-"+info.module.toLowerCase();target.append('<img class="'+className+'" data-src="//global.fncstatic.com/static/v/all/img/clear.gif" src="//global.fncstatic.com/static/v/all/img/clear.gif" style="width: 1px; height: 1px;" />'),target.find("img."+className+":first").unveil(50,function(){require(["modules/"+info.module],function(mod){Helper.log("loaded module: "+info.module),"function"==typeof info.callback?info.callback():"object"==typeof mod&&"function"==typeof mod.init&&mod.init()}),$(this).remove()})}for(var i=0;i<items.length;i++)trigger(items[i])},Helper.getSiteId=function(){return Env.getMeta("prism.channel")||"fnc"},Helper.isListPage=function(){return"list"===Env.getMeta("prism.genre")?!0:!1},Helper.execModules=function(modules){for(var i=0;i<modules.length;i++){var module=modules[i];"object"==typeof module&&"function"==typeof module.init&&module.init()}},Helper.isMobileView=function(width){return null!=width?$(window).width()<=width?!0:!1:$(window).width()<=480?!0:!1},Helper.isTabletView=function(){return $(window).width()>=768&&$(window).width()<=1025?!0:!1},Helper.isTabletOrMobileView=function(){return $(window).width()<=1025?!0:!1},Helper.supportsTransitions=function(){return Modernizr.csstransitions},Helper.getHeight=function(width){var ret=9*Math.round(width/16);return ret},Helper.setModulePaths=function(prefix,arr){for(var i=0;i<arr.length;i++)arr[i]=[prefix,arr[i]].join("/").replace(/\/+/g,"/");return arr},Helper.isElementInViewport=function(el){var rect=el.get(0).getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)},Helper.cacheBuster=function(freq){freq=freq||!1;var date=new Date,str=date.getFullYear().toString()+(date.getMonth()+1).toString()+date.getDate().toString(),hr=date.getHours()+1,min=date.getMinutes();return str+=hr.toString()+(freq&&!isNaN(freq)?Math.floor(min/parseFloat(freq)).toString():"")},Helper.isFoxBusiness=function(){return"fbn"===$("meta[name='prism.channel']").attr("content")?!0:!1},Helper.isAEMAuthor=function(){var host=window.location.host,ret=/aem\-(|.+)author/.test(host)?!0:!1;return ret},Helper.geoInfo=function(){return Geo},Helper}),Modulr.define("FOX_ARTICLES:main",["require","jquery","helper"],function(require,$){var Helper=require("helper"),App=function(){function execCallbacks(){for(;CALLBACK_QUEUE.length>0;){var fn=CALLBACK_QUEUE.shift();"function"==typeof fn&&fn()}}var Proto=this,INITIALIZED=!1,CALLBACK_QUEUE=[];Proto.ready=function(callback){INITIALIZED?callback():CALLBACK_QUEUE.push(callback)},Helper.setLoader([{target:$("#content .comments"),module:"comment-box"},{target:$("#content .mod-24 .sharing"),module:"social-buttons-bottom"},{target:$(".livefyre-fox-custom-embed"),module:"livefyre-embed"}]),require(["modules/bigtop-image-captions","modules/bigtop-slideshow","modules/bigtop-video-player","modules/embed-audio-player","modules/embed-shortcode-player","modules/embed-youtube-player","modules/embed-vimeo-player","modules/partner-rail","modules/polls","modules/relateds","modules/shows-promo","modules/social-buttons-top","modules/isa","modules/news-hub","modules/sponsored-articles",window.location.search.indexOf("_sticky=1")>-1?"modules/sticky":"modules/sticky-video-bar","sites/main"],function(){INITIALIZED=!0,execCallbacks()})};return new App}),Modulr.define("FOX_ARTICLES:modules/_generic-example",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("helper"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".your-target-selector-here").each(function(){Proto.set($(this))}))},Proto.set=function(target){}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/bigtop-image-captions",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:ElementResizeListener"],function(require,$){var ElementResizeListener=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:ElementResizeListener")),Helper=require("helper"),App=function(){function hasCaption(target){return $(target).find("p")[0].scrollHeight>$(target)[0].scrollHeight?!0:!1}var Proto=this,INITIALIZED=!1,ARTICLE_BODY=Helper.getArticleBody();Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void ARTICLE_BODY.find(".m").each(function(){var el=$(this),caption=el.find("> .caption");if(caption.length>0){var show=hasCaption(caption);show&&caption.addClass("show-arrow");var txt=$.trim(caption.text()||"");show&&$(caption).off("click").on("click",function(){caption.toggleClass("excerpt")}),0===txt.length?caption.hide():Proto.set(el,caption,show)}}))},Proto.set=function(holder,target,show){var resize=($("p",target),ARTICLE_BODY.find(".slides .ctrl"),new ElementResizeListener({elm:holder,max:[889,495],min:[200]})),trigger=function(dim){-1===(target.css("background")||"").indexOf("url")&&target.removeAttr("style"),hasCaption(target)&&(target.addClass("show-arrow"),$(target).off("click").on("click",function(){target.toggleClass("excerpt")}))};resize.API.getCurrentSize(function(dim){trigger(dim)}),resize.API.onWindowResize(function(dim){trigger(dim)})}},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/bigtop-slideshow",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:ElementResizeListener"],function(require,$){var Helper=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("helper")),ElementResizeListener=require("FOX_PLUGINS:ElementResizeListener"),FbArticles=Helper.isFoxBusiness(),INITIALIZED=!1,ARTICLE_BODY=Helper.getArticleBody(),App=function(){this._data={}};App.prototype.init=function(){if(INITIALIZED)return!1;INITIALIZED=!0;var self=this,articleBody=ARTICLE_BODY.find(".slides:first");FbArticles&&(articleBody=$("article .big-top .featured-image")),articleBody.each(function(){self.set($(this))})},App.prototype.set=function(holder){var self=this,ul=holder.find("ul.encapsulate"),items=ul.children(),control=holder.find("> .ctrl"),prev=control.find("> .prev"),next=control.find("> .next"),mobileWidth=766;self._data={elm:{holder:holder,ul:ul,items:items,control:control,prev:prev,next:next},size:items.size(),index:0};var size=items.size();Helper.isMobileView(mobileWidth)&&self.setPager(size),setState(prev,!1),1===size&&setState(next,!1),items.each(function(i){var el=$(this),caption=el.find(".caption"),txt=$.trim(caption.text()||"");txt.length<1?caption.hide():Helper.isMobileView(mobileWidth)||(caption.data("_height",-1*caption.outerHeight()),caption.addClass("trn")),self._data.index===i?el.addClass("active"):el.hide()}),self._resize=new ElementResizeListener({elm:holder,max:[880,495],min:[200]}),self.bindEvents()},App.prototype.bindEvents=function(){var self=this,data=self._data,slide=(data.elm.control,$(".slides li")),prev=data.elm.prev,next=data.elm.next,mobileWidth=766,swipeSpeed=200;prev.bind("click",function(evt){evt.preventDefault();var type="prev";return Helper.isMobileView(mobileWidth)?self.slideMobile(type):self.slide(type,"trn"),!1}),next.bind("click",function(evt){evt.preventDefault();var type="next";return Helper.isMobileView(mobileWidth)?self.slideMobile(type):self.slide(type,"trn"),!1}),slide.on("swiperight",function(evt){if(evt.preventDefault(),target=$(".slides li.active"),target.prev("li").length>0){var type="prev";Helper.isTabletView()?self.slide(type,"swipe"):Helper.isMobileView(mobileWidth)&&self.slideMobile(type,swipeSpeed)}}),slide.on("swipeleft",function(evt){if(evt.preventDefault(),target=$(".slides li.active"),target.next("li").length>0){var type="next";Helper.isTabletView()?self.slide(type,"swipe"):Helper.isMobileView(mobileWidth)&&self.slideMobile(type,swipeSpeed)}})},App.prototype.setPager=function(size,slide){var target=$(".slides"),instruct=(target.find(".encapsulate li"),target.find(".instruct"));0===instruct.length?(target.append('<div class="instruct"><div class="pager"></div><div>Swipe to navigate</div></div>'),target.find(".pager").html("Image <span>1</span> of "+size)):$(".pager span").html(slide+1)},App.prototype.slideMobile=function(type,speed){var self=this,collection=$(".encapsulate li"),target=$(".slides li.active"),prevSlide=target.prev("li"),nextSlide=target.next("li");self.triggerISA(),target.removeClass("active"),"prev"===type?(prevSlide.addClass("active").animate({left:"0"},speed),target.css("display","").animate({left:"100%"},speed,function(){self.setPager(null,collection.index(prevSlide))})):(target.animate({left:"-100%"},speed),nextSlide.addClass("active").css("display","").animate({left:"0"},speed,function(){self.setPager(null,collection.index(nextSlide))}))},App.prototype.slide=function(type,gesture){var self=this,data=self._data,resize=self._resize,elm=data.elm,index=data.index;return self._animating?!1:(self._animating=!0,self.triggerISA(),resize.API.getCurrentSize(function(dim){var width=dim[0],nth=(dim[1],index+1),target=elm.ul.children(":nth-child("+nth+")"),nextSlide="next"===type?target.next():target.prev();elm.holder.css({width:width}),target.css({"float":"left",visibility:"visible",width:width}),nextSlide.css({"float":"left",visibility:"visible",width:width,display:"block"}),"prev"===type&&nextSlide.css({"margin-left":-1*width}),setTimeout(function(){target.addClass(gesture),nextSlide.addClass(gesture),setTimeout(function(){"prev"===type?nextSlide.css({"margin-left":0}):target.css({"margin-left":"next"===type?-1*width:width}),setTimeout(function(){elm.holder.removeAttr("style"),nextSlide.removeAttr("style").removeClass(gesture).addClass("active"),target.removeAttr("style").removeClass("active "+gesture).hide(),nextSlide.find(".caption").trigger("mouseover").trigger("mouseout"),self._animating=!1},800)},50)},50)}),index+="next"===type?1:-1,self._data.index=index,0===index?setState(elm.prev,!1):setState(elm.prev,!0),void(index>=data.size-1?setState(elm.next,!1):setState(elm.next,!0)))},App.prototype.triggerISA=function(){try{$.ad.omni.load(),$.ad.coms.load(),$.ad.niel.pre()}catch(err){}};var setState=function(elm,state){state?elm.removeClass("inactive"):elm.addClass("inactive")},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/bigtop-video-player",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:ElementResizeListener","FOX_VIDEO_EMBED:api","modules/social-buttons-video"],function(require,$,_){var VideoEmbedAPI=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_VIDEO_EMBED:api")),FOX_Videos=VideoEmbedAPI.embed.fox,ElementResizeListener=require("FOX_PLUGINS:ElementResizeListener"),Helper=require("helper"),SocialButtons=require("modules/social-buttons-video"),ARTICLE_BODY=Helper.getArticleBody(),INITIALIZED=!1,NEXT_VIDEO=!1,VIDEO_HOLDER=ARTICLE_BODY.find("div.video-ct[data-video-id]:first"),VIDEO_ARTICLE=VIDEO_HOLDER.length>0?!0:!1,COOKIE_NAME="_fox_napv",STATE_CHANGE={},App=function(){function isTNT(){var ret=!1;return Helper.isTabletOrMobileView()||"y"===$.cookie(COOKIE_NAME)||(ret=$.isArray(window.TNT_Vars)&&_.indexOf(window.TNT_Vars,"autoplay=true")>-1?!0:!1),ret}function isAutoplay(){var ret=!1,abTest=abTestAutoplay();return"boolean"==typeof abTest?ret=abTest:("y"!==$.cookie(COOKIE_NAME)||isTNT())&&(ret=!0),ret}function abTestAutoplay(){var ret=null,abTest="number"==typeof window._opt_article_video_ap?window._opt_article_video_ap:null;return null!==abTest&&(ret=0===abTest?!1:!0),ret}function triggerAbTestEvent(){window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"video-play-on-autoplay-off"})}function triggerState(type,data){if(STATE_CHANGE[type])for(var i=0;i<STATE_CHANGE[type].length;i++)STATE_CHANGE[type][i](data)}var Proto=this,IS_PLAYING=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,IS_PLAYING=isAutoplay()?!0:!1,void(VIDEO_ARTICLE&&Proto.set(VIDEO_HOLDER)))},Proto.set=function(holder){var videoId=holder.attr("data-video-id"),domain=window.location.hostname,vidDomain=domain.indexOf("foxbusiness.com")>-1?"foxbusiness":domain.indexOf("latino.foxnews")>-1?"latino.foxnews":"foxnews";Proto._holder=holder;var resize=new ElementResizeListener({elm:holder,max:[880,495],min:[270]});Proto._resize=resize;var altImg=function(){var ret=!1,img=holder.find("img:first");return img.size()>0&&(ret=img.attr("src")),ret}();holder.find("> .caption").remove();var s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src="//s0.2mdn.net/instream/video/jsp_client.js",(document.getElementsByTagName("head")||document.getElementsByTagName("body"))[0].appendChild(s),resize.API.onWindowResize(function(dim){holder.find(".main-player").css({width:dim[0],height:dim[1]})}),resize.API.getCurrentSize(function(dim){var width=dim[0],height=dim[1],div=$('<div class="fox-video main-player" data-widget-type="embed" data-video-domain="'+vidDomain+'"></div>'),img=holder.find("img:first");div.css({width:width,height:height}),img.length>0&&div.append(holder.find("img")),holder.removeClass("video-ct").attr("data-ovr-resize-ignore","1"),holder.html(div),Proto.embedVideo({app:{videoId:videoId,altImg:altImg,width:width,height:height,domain:vidDomain}})})},Proto.embedVideo=function(custom){var holder=Proto._holder,target=holder.find("> .fox-video"),videoDomain=custom.app.domain,config={app:{overlay:!0,events:{playerReady:function(){triggerState("ready")},playTriggered:function(){IS_PLAYING=!0,triggerState("play"),abTestAutoplay()===!1&&triggerAbTestEvent()},pause:function(){IS_PLAYING=!1,triggerState("pause")},overlayReady:function(target){target.find("a").on("click",function(){IS_PLAYING=!0,triggerState("play")})}},domain:videoDomain},player:{flash:{vars:{show_autoplay_overlay:!1,show_sharing_overlay:!1,show_email_overlay:!1}},autoadvance:{enabled:!1},params:{playerName:"inpage"}}},xdomain=FOX_Videos.API.getXDomain(holder);xdomain&&_.merge(config,{app:{domain:xdomain}}),abTestAutoplay()&&_.merge(config,{app:{overlay:!1},player:{autoplay:isAutoplay(),usersettings:{enabled:!1},flash:{vars:{auto_play_override:!0}}}}),_.merge(config,{app:{events:{advance:function(){Proto.setAdvanceFromTrending(config.app.videoId,videoDomain)}}},player:{autoadvance:{interval:5,enabled:!0}}}),_.merge(config,custom),FOX_Videos.set(target,config,{parent:holder,dynamicWidth:!0}),Proto.showTitle(config.app.videoId,config.app.domain||"foxnews")},Proto.setAdvanceFromTrending=function(currentVideoId,vidDomain){function loadPlaylist(){$.ajax({url:url,dataType:"jsonp",jsonpCallback:"fxtartlist",cache:!0,success:function(data){if(data&&data.response&&data.response.docs){for(var items=data.response.docs,idArr=[],i=0;i<items.length;i++){var item=items[i],url=item.url&&$.isArray(item.url)&&item.url[0]?item.url[0]:!1;if(url){var videoId=function(){var ret=!1,sp=url.split("/v/")[1]||!1,v=sp?sp.split("/")[0]:!1;return v&&!isNaN(v)&&(ret=v),ret}();videoId&&idArr.push(videoId)}}Proto._dataTrending=idArr,loadNextVideo()}}})}var resize=Proto._resize,videoDomain=("latino.foxnews"===vidDomain?vidDomain:"www."+vidDomain)+".com",url="//"+videoDomain+"/feeds/web/trending/video/all/feed/json",loadNextVideo=function(){var nextVideoId=!1,arr=Proto._dataTrending;arr=_.pull(arr,currentVideoId),arr.length>0?(nextVideoId=arr[0],Proto._dataTrending.splice(0,1),resize.API.getCurrentSize(function(dim){var width=dim[0],height=dim[1];Proto.embedVideo({app:{videoId:nextVideoId,overlay:!1,width:width,height:height},player:{autoplay:!0}})})):loadPlaylist()};Proto._dataTrending?loadNextVideo():loadPlaylist()},Proto.showTitle=function(videoId,domain){var holder=Proto._holder,trigger=function(data){var autoplay=holder.find("> .autoplay"),target=holder.find("> .vid-title"),template='<div class="vid-title">                        <div class="social-video">                            <ul>                                <li class="facebook"><a href="#" class="facebook" title=""><span></span></a></li>                                <li class="twitter"><a href="#" class="twitter" title=""><span></span></a></li>                                <li class="email"><a href="#" title=""><span></span></a></li>                            </ul>                        </div>                        <div class="title">                            <span>Now Playing</span>                            <p><%= title %></p>                        </div>                        <a class="hide" href="#"></a>                        <a class="close" href="#"></a>                    </div>',markup=_.template(template,{title:data.title});0===target.length?0===autoplay.length?holder.append(markup):$(markup).insertBefore(autoplay):target.replaceWith(markup),target=$(".vid-title");var titleCaption=target.find("p"),nowPlaying=target.find("span");target.height(target.height()+nowPlaying.height()+titleCaption.innerHeight()-1.5*parseInt(titleCaption.css("font-size"),10)),holder.find(".social-video").each(function(){SocialButtons.set($(this),data)}),holder.find(".social-video .email").on("click",function(e){e.preventDefault();var mailto="mailto:?subject="+data.title+"&body="+data.link;window.open(mailto,"_self")})};FOX_Videos.API.getVideoFeedById(videoId,domain,function(data){var item=data&&data.raw&&data.raw.channel&&data.raw.channel.item?data.raw.channel.item:{};item.title||"";NEXT_VIDEO?triggerState("advance",item):NEXT_VIDEO=!0,trigger(item)})},Proto.isAutoplay=function(){var ret=isAutoplay();return ret},Proto.isPlaying=function(){return IS_PLAYING},Proto.pause=function(){var holder=Proto._holder,target=holder.find("> .main-player"),uid=target.attr("data-unique-id");IS_PLAYING&&uid&&FOX_Videos.API.sendEventMessage(uid,"amp.pause",!0)},Proto.play=function(){var holder=Proto._holder,target=holder.find("> .main-player"),uid=target.attr("data-unique-id");!IS_PLAYING&&uid&&FOX_Videos.API.sendEventMessage(uid,"amp.play",!0)},Proto.setPlayerButton=function(type,bool){var holder=Proto._holder,target=holder.find("> .main-player"),uid=target.attr("data-unique-id"),evt=bool?"enablePlayerButton":"disablePlayerButton";uid&&FOX_Videos.API[evt](uid,type)}},APP=new App;APP.init();var API={hasVideo:function(){return VIDEO_ARTICLE},isAutoplay:function(){var ret=APP.isAutoplay();return ret},isPlaying:function(){var ret=APP.isPlaying();return ret},onPlay:function(callback){STATE_CHANGE.play||(STATE_CHANGE.play=[]),STATE_CHANGE.play.push(callback)},onPause:function(callback){STATE_CHANGE.pause||(STATE_CHANGE.pause=[]),STATE_CHANGE.pause.push(callback)},onAdvance:function(callback){STATE_CHANGE.advance||(STATE_CHANGE.advance=[]),STATE_CHANGE.advance.push(callback)},pause:function(){APP.pause()},play:function(){APP.play()},setPlayerButton:function(type,bool){APP.setPlayerButton(type,bool)},playerReady:function(callback){STATE_CHANGE.ready||(STATE_CHANGE.ready=[]),STATE_CHANGE.ready.push(callback)}};return API}),Modulr.define("FOX_ARTICLES:modules/comment-box",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){if(INITIALIZED)return!1;INITIALIZED=!0;var FOX_ARTICLE_INFO=require("FOX_ARTICLE_INFO"),$comments=$($("#comments").length?"#comments":".comments");"true"===FOX_ARTICLE_INFO.commenting?$comments.append('<a href="#"><b>Comments</b><i>click here to join the discussion</i></a>').click(function(e){$(window).trigger("scroll");var fyreDiv=$(".fyre"),commentingDiv=$(".commenting, #commenting"),scrollDiv=fyreDiv.length?fyreDiv:commentingDiv;try{$("html, body").animate({scrollTop:scrollDiv.position().top},"slow")}catch(err){console.log(err)}return!1}):$comments.append("<span><i>Comments are currently</i><i>closed for this article</i></span>")}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/embed-audio-player",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $("article .audio").each(function(){Proto.set($(this))}))},Proto.set=function(target){var getAudioData=function(audioid,holder){$.ajax({url:"/feeds/audio/"+audioid+"/json",cache:!0,dataType:"json",success:function(data){$.loadAttempt(50,150,function(){return window.audiojs&&audiojs.events?!0:!1},function(){if(data&&data.response&&$.isArray(data.response.docs)&&data.response.docs.length>0){var introUrl="//radio.foxnews.com/podcasts/ga/targetspot-ondemand.php",url=data.response.docs[0].url,title=data.response.docs[0].title,played=!1;$(".audiojs .play-pause .play").live("click",function(){played===!1&&(audio.load(introUrl),audio.play(),$("article .audio .audiojs .time > .duration").hide(),$("article .audio .audiojs .time > .played").show()),played=!0}),holder.html("<h3>"+title+'</h3><audio preload></audio><a href="//radio.foxnews.com/">More podcasts from Fox News Radio</a>');var a=audiojs.createAll({trackEnded:function(){$(".audiojs > audio").attr("src")===introUrl?(audio.load(url),audio.play()):played=!1}}),audio=a[0];audio.load(url)}})}})};target.each(function(){var el=$(this),audioId=el.attr("data-audio-id")||!1;audioId&&getAudioData(audioId,el)})}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/embed-shortcode-player",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:OnWindowResize","FOX_VIDEO_EMBED:api","modules/embed-vimeo-player","modules/embed-youtube-player"],function(require,$){var OnWindowResize=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:OnWindowResize")),VideoEmbedAPI=require("FOX_VIDEO_EMBED:api").embed.fox,Helper=require("helper"),ARTICLE_BODY=(require("modules/embed-youtube-player"),require("modules/embed-vimeo-player"),Helper.getArticleBody()),App=function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".video-short-code").each(function(){Proto.set($(this))}))},Proto.set=function(target){target.each(function(){var elm=$(this),videoId=(elm.attr("video-id")||elm.attr("data-video-id")||"").replace(/[^0-9]/gi,""),body=ARTICLE_BODY;if(!videoId)return!1;var width=body.width(),height=Helper.getHeight(width),domain=window.location.host||window.location.hostname,videoDomain=elm.attr("data-video-domain")||(domain.indexOf("foxbusiness.com")>-1?"foxbusiness":domain.indexOf("latino.foxnews")>-1?"latino.foxnews":"foxnews"),div=$('<div class="fox-video video-embed" data-widget-type="embed" data-video-domain="'+videoDomain+'"></div>'),config={app:{videoId:videoId,overlay:!1,width:width,height:height},player:{autoplay:!1,usersettings:{enabled:!1}}};elm.html(div),VideoEmbedAPI.set(elm.find(".video-embed"),config),OnWindowResize(function(){var w=body.width(),h=Helper.getHeight(w);elm.find(".video-embed").css({width:w,height:h})},50)})}},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/embed-vimeo-player",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:OnWindowResize","FOX_VIDEO_EMBED:api"],function(require,$){var OnWindowResize=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:OnWindowResize")),Helper=require("helper"),VideoEmbedAPI=require("FOX_VIDEO_EMBED:api").embed.vimeo,ARTICLE_BODY=Helper.getArticleBody(),App=function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".video-vimeo").each(function(){Proto.set($(this))}))},Proto.set=function(target){VideoEmbedAPI.set(target)},Proto.pause=function(videoId){videoId=videoId||null,VideoEmbedAPI.pause(videoId)},Proto.setLegacy=function(target){target.each(function(){var elm=$(this),videoId=elm.attr("data-video-id")||elm.attr("video-id")||!1;if(!videoId)return!1;var iframe,body=ARTICLE_BODY,width=body.width(),height=Helper.getHeight(width);elm.html('<iframe src="//player.vimeo.com/video/'+videoId+'" width="'+width+'px" height="'+height+'px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),iframe=elm.find("> iframe:first"),OnWindowResize(function(){var w=body.width(),h=Helper.getHeight(w);iframe.css({width:w,height:h})},50)})}},APP=new App;return APP.init(),APP}),Modulr.define("FOX_ARTICLES:modules/embed-youtube-player",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:OnWindowResize","FOX_VIDEO_EMBED:api"],function(require,$){var OnWindowResize=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:OnWindowResize")),VideoEmbedAPI=require("FOX_VIDEO_EMBED:api").embed.youtube,Helper=require("helper"),ARTICLE_BODY=Helper.getArticleBody(),App=function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".video-youtube").each(function(){Proto.set($(this))}))},Proto.set=function(target){VideoEmbedAPI.set(target)},Proto.pause=function(videoId){VideoEmbedAPI.pause(videoId)},Proto.setLegacy=function(target){target.each(function(){var elm=$(this),videoId=elm.attr("data-video-id")||elm.attr("video-id")||!1;if(!videoId)return!1;var iframe,body=ARTICLE_BODY,width=body.width(),height=Helper.getHeight(width);elm.html('<iframe src="//www.youtube.com/embed/'+videoId+'?version=3&enablejsapi=1" frameborder="0" style="width:'+width+"px; height:"+height+'px;"></iframe>'),iframe=elm.find("> iframe:first"),OnWindowResize(function(){var w=body.width(),h=Helper.getHeight(w);iframe.css({width:w,height:h})},50)})}},APP=new App;return APP.init(),APP}),Modulr.define("FOX_ARTICLES:modules/isa",["require","jquery","lodash","helper","FOX_GLOBAL:utils/media-query-detector"],function(require,$,_,Helper){function getTarget(){var target;return isListPage?body.children().length>0?target=body.find("> p:first"):(body=$(".a-list"),target=body.find("li:first div:last")):(sponsored||lessPara)&&"tablet"===current?(target=body.find("> :first"),1===target.length&&"p"!==target.get(0).nodeName.toLowerCase()&&(target=target.find("~ p:first").prev())):target=body.find(lessPara?"> p:first":"> p:nth-of-type(1)"),target}function getSixthTarget(){var target;return moreThanSixPs?(target=body.find("> p:nth-of-type(6)"),7===body.find("> p").length&&paddingPTag&&(target=!1)):target=!1,target}var Detector=require("FOX_GLOBAL:utils/media-query-detector"),current=Detector.current(),isListPage=Helper.isListPage(),ARTICLE_BODY=Helper.getArticleBody(),conditionals={0:$(".sponsored-article:eq(0)"),1:$(".sponsored-article:eq(0) a"),2:$(".sponsored-article:eq(0) .disclaimer"),3:!$(".sponsored-article:eq(0)").hasClass(".bottom")},numbers=conditionals[0].length+conditionals[1].length+conditionals[2].length+conditionals[3];if(4===numbers&&conditionals[1].unbind().bind("click",function(e){e.preventDefault(),conditionals[2].css("display","block"),$(this).css("display","none")}),"desktop"===current)return!1;var markup='<div class="mod-16 active<%= sponsoredClass %>">            <div class="ad-container '+current+'">                <div class="ad gpt" data-ad-pos="'+current+'" data-ad-size="<%= id %>"></div>                <p class="advert-txt">ADVERTISEMENT</p>            </div>        </div>',body=ARTICLE_BODY,inner=body.find("> .article-text:first");inner.length>0&&(body=inner);var placementId="mobile"===current?"320x50,300x250":"300x250",lastAdId="300x251",sponsored=body.find(".sponsor:first").length>0?!0:!1,lessPara=body.find("> p").length<2?!0:!1,moreThanSixPs=body.find("> p").length>=7?!0:!1,paddingPTag="<i></i>"===body.find("> p:last").html()?!0:!1,target=getTarget(),lastAdEl=getSixthTarget();if(target.length>0){var template=_.template(markup,{sponsoredClass:sponsored||lessPara?" sponsored":"",id:placementId});body.find(".mod-16").remove(),$("#"+placementId).attr("data-ad-size","view-disabled-"+placementId),$(template).insertAfter(target),body.find(".mod-16 .ad-container > .ad").each(function(){var el=$(this);$.loadAttempt(100,50,function(){return googletag.apiReady?!0:!1},function(){el.bind("googletag.events.SlotRenderEnded",function(evt,info){var dim=info.data&&info.data.size?info.data.size:!1;dim&&320===dim[0]&&50===dim[1]&&el.addClass("flex")}),$.ad.gpt.loadDynamicAd(el)})})}else Helper.log("warning: no target found to attach for ad: "+placementId);lastAdEl.length>0&&"mobile"===current&&lastAdEl!==!1&&lastAdEl.each(function(){var el=$(this),adTemplate='<div class="ad-container mobile in-article">                                <div class="ad gpt" data-ad-pos="'+current+'" data-ad-size="'+lastAdId+'"></div>                            </div>';el.after(adTemplate),$.loadAttempt(100,50,function(){return googletag.apiReady?!0:!1},function(){$.ad.gpt.loadDynamicAd(el.siblings(".ad-container").find(".ad"))})}),"mobile"===current&&$(".advert-txt").remove()}),Modulr.define("FOX_ARTICLES:modules/lear-capital",["require","jquery","lodash","helper","FOX_GLOBAL:utils/ajax","FOX_GLOBAL:utils/environment","FOX_TEMPLATES:controls/api","FOX_PLUGINS:OnWindowResize"],function(require,$,_,Helper){function render(target,data){Template.get("/static/v/all/js/amd/apps/articles/app/templates/lear-capital.html",function(markup){markup=_.template(markup,{title:getTitle(),items:data}),target.html(markup),$.ad&&$.ad.track&&setTracking(target)}),OnWindowResize(function(){target.find("h2:first").text(getTitle())},50)}function setTracking(target){target.find("section > div").each(function(){var el=$(this),thumb=el.find(".m"),story=el.find("h3"),over="";thumb.hover(function(){over="thumbnail"},function(){over=""}),story.hover(function(){over="story"},function(){over=""}),el.find("a").on("click",function(){over&&$.ad.track({"sponsored-content":{info:{name:"Lear Capital sponsored content",type:over}}})})})}function normalize(data){return data&&$.isArray(data.stories)?data.stories.slice(0,CONST.items):[]}function getTitle(){return Helper.isMobileView()?"You Might Like":"Sponsored Stories You May Like"}function loadFeed(callback){$.ajax({url:CONST.feed,data:{cb:AjaxUtil.cacheBuster(2)},dataType:"jsonp",jsonpCallback:"learCapitalComm",cache:!0}).done(function(data){return data?void callback(data):!1})}var AjaxUtil=require("FOX_GLOBAL:utils/ajax"),Template=(require("FOX_GLOBAL:utils/environment"),require("FOX_TEMPLATES:controls/api")),OnWindowResize=require("FOX_PLUGINS:OnWindowResize"),CONST={feed:"//apps.foxnews.com/rest-call/lear-capital/?type=commodities",items:4},RENDERED=!1,App=function(){var Proto=this;Proto.set=function(holder,isParent){if(RENDERED)return!1;if(RENDERED=!0,isParent)holder.replaceWith('<div id="mod-lear-capital"></div>');else{var parent=holder.parent();parent.addClass("non-outbrain").attr("id","mod-lear-capital"),parent.empty()}loadFeed(function(data){render($("#mod-lear-capital"),normalize(data))})},Proto.use=function(){return!1}};return new App}),Modulr.define("FOX_ARTICLES:modules/livefyre",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){if(INITIALIZED)return!1;INITIALIZED=!0;var FOX_ARTICLE_INFO=require("FOX_ARTICLE_INFO");if("true"===FOX_ARTICLE_INFO.commenting){var $comments=$($("#comments").length?"#comments":".comments"),method=$comments.length?"html":"append",fyreDiv=$(".fyre"),commentingDiv=$(".commenting, #commenting"),scrollDiv=fyreDiv.length?fyreDiv:commentingDiv,$showMore=$("#show-more-comments");
$showMore.click(function(e){$(".fyre-widget").css("max-height","none"),$showMore.hide(),e.preventDefault()}),$comments[method]('<a href="#"><b class="livefyre-commentcount">Loading comments</b><i>click here to join the discussion</i></a>').click(function(e){try{$("html, body").animate({scrollTop:scrollDiv.position().top},"slow")}catch(err){console.log(err)}return!1}),$.loadAttempt(200,222,function(){return window.livefyreProtoReady?!0:!1},function(){window.enableLivefyreLazyload=!1,window._livefyreProto.init()})}}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/news-hub",["require","jquery","lodash"],function(require,$,_){var App=function(){function timeSince(date){var seconds=Math.floor((new Date-date)/1e3),interval=Math.floor(seconds/31536e3);return interval>1?interval+"y":(interval=Math.floor(seconds/604800),interval>1?interval+"w":(interval=Math.floor(seconds/86400),interval>1?interval+"d":(interval=Math.floor(seconds/3600),interval>1?interval+"h":(interval=Math.floor(seconds/60),interval>1?interval+"1h":Math.floor(seconds)+"now"))))}var CONFIG={count:2,feed:"//bootstrap.foxnewsprod.fyre.co/bs3/v3.1/foxnewsprod.fyre.co/310256/ -%articleID%- /init",template:'	<% for (var index = 0; index < tweets.length; index++) { %>					<% var classes = (typeof tweets[index].image === "undefined" || typeof tweets[index].image === "null" || tweets[index].image === null) ? "tweet no-img" : "tweet"; %>					<div class="<%= classes %>">						<a href="//www.twitter.com" target="_blank"></a>						<img src="<%= tweets[index].tweeter.avatar %>">						<span>							<a href="<%= tweets[index].tweeter.profile %>" target="_blank"><%= tweets[index].tweeter.name %></a>						</span>						<span>							<a href="<%= tweets[index].tweeter.profile %>" target="_blank"><%= tweets[index].tweeter.username %></a>						</span>						<blockquote><%= tweets[index].content %></blockquote>						<% if (typeof tweets[index].image !== "undefined" && typeof tweets[index].image !== "null" && tweets[index].image !== null) { %>							<img src="<%= tweets[index].image %>">						<% } %>						<p><%= tweets[index].time %></p>						<ul>							<li><a href="//twitter.com/intent/tweet?in_reply_to=<%= tweets[index].id %>">Reply</a></li>							<li><a href="//twitter.com/intent/retweet?tweet_id=<%= tweets[index].id %>">Retweet</a></li>							<li><a href="//twitter.com/intent/favorite?tweet_id=<%= tweets[index].id %>">Favorite</a></li>						</ul>					</div>				<% } %>'};this.resizeImage=function(img,width,height){if(isNaN(width)||isNaN(height)||!img)return img;var url=img;if(img.indexOf("a57.foxnews.com")>-1||img.indexOf("nyc.imagesizer.foxnews.com")>-1){url=img.split("/");var idx=url.length;url[idx-3]=width,url[idx-2]=height,url=url.join("/")}else{url=img.split("/");var dim="/"+width+"/"+height+"/";(0===url[0].indexOf("http")||"//"===u.slice(0,2))&&url.splice(0,2),url.unshift("//a57.foxnews.com"),url=url.slice(0,url.length-1).join("/")+dim+url.slice(url.length-1)}return url+"?ve=1&tl=1"},this.setup=function(){var that=this,parent=$(".social-news-driver"),container=parent.find(".contain"),tweets=[];if(window.twttr=function(id){var script,container=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],twitter=window.twttr||{};if(!window.twttr&&!document.getElementById(id))return script=document.createElement("script"),script.id=id,script.async=!0,script.src="//platform.twitter.com/widgets.js",container.appendChild(script),twitter}("twitter-wjs"),parent.length&&container.length&&parent.data().hasOwnProperty("base64ArticleId")){var articleID=parent.data().base64ArticleId,feedURL=CONFIG.feed.replace(" -%articleID%- ",articleID);$.getJSON(feedURL,function(data){if(data.headDocument.content.length){var count=data.headDocument.content.length<CONFIG.count?data.headDocument.content.length:CONFIG.count;if(count)for(var index=0;count>index;index++){var tweetData=data.headDocument.content[index].content,authorData=data.headDocument.authors[tweetData.authorId],imageExists=tweetData.attachments&&tweetData.attachments.length&&"photo"===tweetData.attachments[0].type?!0:!1,imgUrl=imageExists===!0?tweetData.attachments[0].url:null;null!==imgUrl&&(imgUrl=imgUrl.replace(/:(small|large)$/,"")),tweets.push({id:tweetData.annotations.tweetMeta.tweetIdStr,image:that.resizeImage(imgUrl,258,150),content:tweetData.bodyHtml,time:timeSince(new Date(tweetData.annotations.tweetMeta.created_at)),tweeter:{name:authorData.displayName,username:"@"+authorData.profileUrl.substring(authorData.profileUrl.lastIndexOf("/")+1),profile:authorData.profileUrl,avatar:authorData.avatar}})}var markup=_.template(CONFIG.template,{tweets:tweets});container.html(markup)}})}},this.setup()};return new App}),Modulr.define("FOX_ARTICLES:modules/partner-rail",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var FOX_ARTICLE_INFO=require("FOX_ARTICLE_INFO"),App=(require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".sponsor-partner").each(function(i){Proto.set($(this),i)}))},Proto.set=function(target,count){var partner=FOX_ARTICLE_INFO&&FOX_ARTICLE_INFO.partnerInfo&&FOX_ARTICLE_INFO.partnerInfo.partner&&FOX_ARTICLE_INFO.partnerInfo.partner.source?FOX_ARTICLE_INFO.partnerInfo.partner.source:!1,list=FOX_ARTICLE_INFO&&FOX_ARTICLE_INFO.partnerInfo&&FOX_ARTICLE_INFO.partnerInfo.partner&&FOX_ARTICLE_INFO.partnerInfo.partner.info?FOX_ARTICLE_INFO.partnerInfo.partner.info:!1;if(!partner||!list)return!1;var template='<h2>More from <%= partner %></h2>                <ul>                    <% for (var i = 0; i < items.length; i++) { var item = items[i]; %>                    <li><a target="_blank" rel="nofollow" href="<%= item.url %>"><h3><%= item.title %></h3></a></li>                    <% } %>                </ul>',html=_.template(template,{partner:partner,items:list});target.html(html).addClass("mod-15")}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/polls",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".poll").each(function(){Proto.set($(this))}))},Proto.set=function(target){target.each(function(){var polls=$(this);window._fox_polls_opt=window._fox_polls_opt||[],window._fox_polls_opt.push({type:"embed",target:polls})})}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/relateds",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".related").each(function(){Proto.set($(this))}))},Proto.set=function(target){target.each(function(){var elm=$(this),btn=elm.find(".expand"),img=elm.find(".m img"),animating=!1;btn.click(function(){return animating?!1:(animating=!0,img.fadeOut("fast"),elm.fadeOut("fast",function(){elm.toggleClass("active"),elm.fadeIn("fast"),img.fadeIn("fast"),elm.hasClass("active")&&$.ad&&$.ad.track&&$.ad.track({imageExpand:{}}),animating=!1}),!1)})})}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/shows-promo",["require","jquery","lodash","helper"],function(require,$,_,Helper){function getFeed(callback){var callbackFN=[site,show].join(" ").replace(/[^a-z0-9]/gi,"_");$.ajax({url:url,dataType:"jsonp",jsonpCallback:callbackFN,cache:!0}).done(function(data){callback(data)})}function render(data){var item=data[show]||!1;if(!item)return!1;var sched=(item.promo_schedule||"").split(":"),days=sched[0]||"",time=sched[1]||"";if(days&&time){days=days.charAt(0).toUpperCase()+days.slice(1);var html="Tune in "+days+"<br/><span>"+time+"</span> ET";target.find(".timeslot").html(html)}}var module=$(".show-callout"),isRun=module.length>0&&"1"!==module.attr("data-init")&&"fnc"===Helper.getSiteId()?!0:!1;if(!isRun)return!1;module.attr("data-init","1");var url="//apps.foxnews.com/schedule_new/feed/${site}/shows.jn?shows=${show}",target=module.find(".tune-in"),show=target.attr("data-show-name")||!1,site=target.attr("data-site")||!1;return show&&site?(url=url.replace("${site}",site),url=url.replace("${show}",show),void getFeed(function(data){render(data)})):!1}),Modulr.define("FOX_ARTICLES:modules/social-buttons-bottom",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_GLOBAL:utils/environment"],function(require,$){var FOX_ARTICLE_INFO=require("FOX_ARTICLE_INFO"),Env=(require("FOX_ARTICLE_CQ"),require("FOX_GLOBAL:utils/environment")),INITIALIZED=!1,CONST=(FOX_ARTICLE_INFO.url||$("link[rel='canonical']:first").attr("href"),{domainPath:window.FOX_DomainPath||"",siteMeta:window.FOX_pagedescriptor?FOX_pagedescriptor:!1,pageMeta:function(){return window.FOX_metadescriptor&&FOX.site.metaDescriptor.init(),FOX_metadescriptor}(),defaultImg:{fn:"http://global.fncstatic.com/static/v/all/img/64x64_foxnews.jpg",fb:"http://global.fncstatic.com/static/v/all/img/64x64_foxbusiness.jpg",sbc:"http://global.fncstatic.com/static/v/all/img/64x64_foxbusiness.jpg",latino:"http://global.fncstatic.com/static/v/all/img/64x64_foxnewslatino.jpg"},facebook:{appId:{fn:"113186182048399",fb:"116027085089150",sbc:"122626657769061",latino:"113186182048399"},likePages:{fn:{entertainment:"Fox411",leisure:"FoxNewsLeisure",health:"FoxNewsHealth",scitech:"FoxNewsSciTech",science:"FoxNewsSciTech",opinion:"FoxNewsOpinion",politics:"AmericasElectionHQ",travel:"FoxNewsTravel",standard:"FoxNews"},fb:{technology:"FoxBusinessTechnology",travel:"FoxBusinessTravel",standard:"FoxBusiness"},sbc:{standard:"FoxSmallBusinessCenter"},latino:{standard:"FoxNewsLatino"}}},plusone:{},twitter:{share:{fn:{"data-via":{politics:"foxnewspolitics",entertainment:"fox411",leisure:"fxnleisure",health:"foxnewshealth",scitech:"fxnscitech",science:"fxnscitech",opinion:"fxnopinion",standard:"foxnews"},"data-related":{politics:"foxnews,foxnewsalert",us:"foxnewspolitics,foxnewsalert",world:"foxnewspolitics,foxnewsalert",entertainment:"fxentertainment,foxnews,foxnewsalert",leisure:"fox411,foxnews,foxnewsalert",health:"foxnewshealth,foxnews,foxnewsalert",scitech:"foxnews,foxnewsalert,foxbusiness",science:"foxnews,foxnewsalert,foxbusiness",opinion:"foxnews,foxnewsalert,foxbusiness",standard:"foxnews"},"data-count":"horizontal"},fb:{"data-via":{travel:"foxbusiness",standard:"foxbusiness"},"data-related":{markets:"foxbizvideo,foxnews",industries:"foxbizvideo,foxnews","personal-finance":"foxbizvideo,foxnews",technology:"foxbizvideo,foxnews",travel:"foxbusiness,foxnews",standard:"foxbusiness"},"data-count":"horizontal"},sbc:{"data-via":"fbsmallbiz","data-related":"foxbusiness,foxbizvideo,foxnews","data-count":"horizontal"},latino:{"data-via":"foxnewslatino","data-related":"foxnews","data-count":"horizontal"}},follow:{fn:{entertainment:"fox411",leisure:"fxnleisure",health:"foxnewshealth",scitech:"fxnscitech",science:"fxnscitech",opinion:"fxnopinion",politics:"foxnewspolitics",travel:"foxnewstravel",standard:"foxnews"},fb:{technology:"foxbiztech",standard:"foxbusiness"},sbc:{standard:"fbsmallbiz"},latino:{standard:"foxnewslatino"}}},gigya:{appId:{fn:"2_P_SCeI9b5x1K_Hcov-bZXH0VvRdLZLngrDVKxDRAaoRFCgbfZwru32c5_gxxiw4i",fb:"2_r1dIwveil6V1qtp6E51xbrYWPI055A4PuNOdkHnIBUFuCjQ2roU_epXmWRQ7ovph",sbc:"2_RBMIl--kG27hlfe-QRM8iya3l-uIJkV-jdJE6WFin42NlisZc9EqWXsPWAKI8gyY",latino:"2_y6549skeg9k3CW-RaaJfiSnBwlJEjF9_CAWMWhzEBb8_SngC4a3bCQXlxWvyyAbR"},conf:{cid:"shareWidget",enabledProviders:"facebook,yahoo,twitter,google,liveid,myspace",successMessage:"true"},params:{showMoreButton:"true",showEmailButton:"true",useHTML:"true",emailBody:"Hello,<br /><br />$userMsg$ <br /><br /><i>Shared while visiting {domain}:</i><br /><br />{linkBack}<br /><br />{description}<br /><br />{related}<br /><br />"},linkbackCMPID:{facebook:"fb",twitter:"twitter",myspace:"myspace",yahoo:"yahoo",linkedin:"linkedin",google:"googlebuzz"}},disqus:{siteId:{qa:"fnqasite",fn:"foxnews",fb:"foxbusiness",sbc:"foxsmallbusinesscenter",latino:"foxnewslatino"},ident:{postCount:["#dsq-total-posts","#dsq-num-posts"],postArea:"#dsq-new-post"}}}),App=function(){this.elmObj={}};App.prototype={init:function(config){if(INITIALIZED)return!1;if(INITIALIZED=!0,config)for(var i in config)this["_"+i]=config[i];return this._initialized?!1:(this._initialized=!0,this.Social=new ArticleSocialMedia(this),this.setHolders(),this.setListeners(),this.setBlockListeners=new ElementListeners(this),void("function"==typeof ew_disableRefresh&&ew_disableRefresh()))},setHolders:function(){var main=$(".main");this.elmObj={elm:main,info:main.find("> .article-info"),intro:main.find("> #introduction"),commenting:main.find("#commenting"),comments:main.find("#comments-section"),interaction:main.find(".user-interaction"),moreStories:$(".side-bar-stories")}},setListeners:function(){var self=this,elmObj=this.elmObj;elmObj.elm.find("> .article-info > p").each(function(){var elm=$(this),text=$.trim(elm.text());text.length<1&&elm.remove()}),$(".rr-facebook").each(function(){self.Social.Facebook.set({elm:$(this),isRail:!0})}),$('<div class="rr-twitter"></div>').insertBefore($(".rr-facebook")),$(".rr-twitter").each(function(){self.Social.Twitter.follow({elm:$(this)})});var user=elmObj.interaction,userFn=function(cname){return user.find("> ."+cname)};userFn("recommend").each(function(){self.Social.Facebook.set({elm:$(this)})}),userFn("tweet").each(function(){self.Social.Twitter.set({elm:$(this)})}),self.Social.LinkedIn.renderOK()?(userFn("tweet").removeClass("last"),user.append('<li class="linkedin last"><a href="#">LinkedIn</a></li>'),userFn("linkedin").each(function(){self.Social.LinkedIn.set({elm:$(this)})})):userFn("tweet").addClass("last")}};var ElementListeners=function(){var Listeners=function(root){this.root=root;for(var i in this)"root"!==i&&"function"==typeof this[i]&&this[i]()};return Listeners.prototype={socialMediaBlock:function(){var root=this.root,social=(root.elmObj,$(".mod-24 .sharing:first"));social.each(function(){var elm=$(this),list=elm.find("> ul");list.find("> li").filter(function(){var el=$(this),cname=el.attr("class")||!1;cname||el.remove()});var fb=list.find("> .social-fb");0===fb.size()&&list.append('<li class="social-fb"></li>'),root.Social.Facebook.set({elm:list.find("> .social-fb"),layout:"box_count",width:65,height:65});var tw=list.find("> .social-tw");if(0===tw.size()&&list.append('<li class="social-tw"></li>'),list.find("> .social-tw").append('<a href="//twitter.com/share" class="twitter-share-button" data-count="vertical">Tweet</a>'),root.Social.Twitter.set({elm:list.find("> .social-tw"),"data-count":"vertical",embedNow:!0}),root.Social.PlusOne.renderOK()){var gg=list.find("> .social-gg");0===gg.size()?list.append('<li class="social-gg"><div class="g-plusone" data-size="tall" data-callback="googlePlusCallback"></div></li>'):gg.append('<div class="g-plusone" data-size="tall" data-callback="googlePlusCallback"></div>'),root.Social.PlusOne.set({elm:list.find("> .social-gg")})}else list.find("> .social-gg").hide();if(root.Social.LinkedIn.renderOK()){var su=list.find("> .social-in");0===su.size()&&list.append('<li class="social-in"></li>'),root.Social.LinkedIn.set({elm:list.find("> .social-in"),"data-count":"vertical",counter:"top",embedNow:!0})}else list.find("> .social-in").hide()})}},Listeners}(),ArticleSocialMedia=function(){var SocialMedia=function(root){this.root=root,this.Facebook=new Facebook(this),this.Twitter=new Twitter(this),this.PlusOne=new GooglePlusOne(this),this.StumbleUpon=new StumbleUpon(this),this.LinkedIn=new LinkedIn(this);var domain=Env.getDomainHost(),defaultImg=!1;switch(domain){case"foxnews.com":defaultImg=CONST.defaultImg.fn;break;case"foxbusiness.com":defaultImg=CONST.defaultImg.fb;break;case"smallbusiness.foxbusiness.com":defaultImg=CONST.defaultImg.sbc;break;case"latino.foxnews.com":defaultImg=CONST.defaultImg.latino}this._defaultImg=defaultImg};SocialMedia.prototype={embed:function(url){if(!url)return!1;var e=document.createElement("script");e.src=url,e.async=!0,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}};var Facebook=function(root){this.root=root;var apiKey=!1,likes=!1,config=CONST.facebook,domain=Env.getDomainHost();switch(domain){case"foxnews.com":apiKey=config.appId.fn,likes=config.likePages.fn;break;case"foxbusiness.com":apiKey=config.appId.fb,likes=config.likePages.fb;break;case"smallbusiness.foxbusiness.com":apiKey=config.appId.sbc,likes=config.likePages.sbc;break;case"latino.foxnews.com":apiKey=config.appId.latino,likes=config.likePages.latino}this._appId=apiKey,this._likesInfo=likes,apiKey||log("[Social.Facebook] No API Key for domain: "+domain)};Facebook.prototype={set:function(info){var self=this,valid=info&&info.elm?!0:!1;if(!valid)return!1;var elm=info.elm,link=info.link||getUrl(),w=info.width||100,h=info.height||22,layout=(info.title||"Like this content on Facebook.",self._appId,info.layout||"button_count"),show_faces=info.show_faces||"false",action=info.action||"like";info.isRail&&(w=300,h=28,layout="standard",link=self.getRailLink());var html='<fb:like href="'+link+'" layout="'+layout+'" show_faces="'+show_faces+'" height="'+h+'" width="'+w+'" action="'+action+'"></fb:like>';elm.html(html);var cfg={appId:self._appId,status:!0,cookie:!0,xfbml:!0};window.fbAsyncInit=function(){FB.init(cfg),FB.Event.subscribe("edge.create",function(){$.ad.track({facebook:{like:!0}})})},function(){var e=document.createElement("script");e.src=document.location.protocol+"//connect.facebook.net/en_US/all.js",e.async=!0,0===$("#fb-root").size()&&$("body").prepend('<div id="fb-root"></div>'),$("head").get(0).appendChild(e)}()},getRailLink:function(){var cfg=this._likesInfo,channel="function"==typeof FOX_metadescriptor?CONST.pageMeta.name["prism.section"]:$("meta[name='prism.section']").attr("content"),url="//www.facebook.com/"+(cfg[channel]?cfg[channel]:cfg.standard);return url}};var Twitter=function(root){this.root=root;var cfg,fCfg,config=CONST.twitter,domain=Env.getDomainHost();switch(this._shareConfig=!1,this._followConfig=!1,domain){case"foxnews.com":cfg=config.share.fn,fCfg=config.follow.fn;break;case"smallbusiness.foxbusiness.com":cfg=config.share.sbc,fCfg=config.follow.sbc;break;case"foxbusiness.com":cfg=config.share.fb,fCfg=config.follow.fb;break;case"latino.foxnews.com":cfg=config.share.latino,fCfg=config.follow.latino}this._shareConfig=cfg,this._followConfig=fCfg,cfg||log("[Social.Twitter] No config: "+domain)};Twitter.prototype={set:function(info){var self=this,valid=info&&info.elm&&this._shareConfig?!0:!1,channel="function"==typeof FOX_metadescriptor?CONST.pageMeta.name["prism.section"]:$("meta[name='prism.section']");if(!valid)return!1;var cfg=this._shareConfig;cfg.href="//twitter.com/share","object"==typeof cfg["data-via"]&&(cfg["data-via"]=cfg["data-via"][channel]||cfg["data-via"].standard),"object"==typeof cfg["data-related"]&&(cfg["data-related"]=cfg["data-related"][channel]||cfg["data-related"].standard),info["data-count"]&&(cfg["data-count"]=info["data-count"]),cfg["data-url"]=getUrl("twitter"),cfg["data-counturl"]=getUrl(),info.elm.html($("<a></a>").attr(cfg).addClass("twitter-share-button")),info.embedNow&&(self.root.embed("//platform.twitter.com/widgets.js"),self.onEmbed(info.elm))},follow:function(info){var valid=info&&info.elm&&this._followConfig?!0:!1,channel="function"==typeof FOX_metadescriptor?CONST.pageMeta.name["prism.section"]:$("meta[name='prism.section']");if(!valid)return!1;var cfg=this._followConfig,screenname=cfg[channel]||cfg.standard,iframe='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="${href}" style="width:250px; height:22px;"></iframe>',href="//platform.twitter.com/widgets/follow_button.html?screen_name="+screenname+"&show_count=true";iframe=iframe.replace("${href}",href),info.elm.html(iframe)},onEmbed:function(elm){$.loadAttempt(50,300,function(){return"undefined"!=typeof twttr?!0:!1},function(){twttr.events.bind("click",function(event){$.ad.track({twitter:{click:!0}})})})}};var GooglePlusOne=function(root){this.root=root};GooglePlusOne.prototype={renderOK:function(){return $.browser.msie?parseInt($.browser.version,10)>7?!0:!1:!0},set:function(info){this.root.embed("//apis.google.com/js/plusone.js")}};var StumbleUpon=function(root){this.root=root};StumbleUpon.prototype={renderOk:function(){return $.browser.msie?parseInt($.browser.version,10)>8?!0:!1:!0},set:function(info){this.root.embed("//platform.stumbleupon.com/1/widgets.js")}};var LinkedIn=function(root){this.root=root};LinkedIn.prototype={set:function(info){var root=this.root,counter=(info&&info.elm?!0:!1,info.counter||"right"),linkBackUrl=function(){var loc=window.location,link=loc.protocol+"//"+loc.hostname+loc.pathname;return link}();info.elm.html('<script type="IN/Share" data-url="'+linkBackUrl+'" data-counter="'+counter+'" data-onsuccess="successCallbackLinkedIn"></script>'),root.embed("//platform.linkedin.com/in.js"),window.successCallbackLinkedIn=function(data){auth_fox.badgeville.trigger("contentShare",window.location.href+"#linkedIn"),auth_fox.janrain.API.update("entity.update",auth_fox.janrain.API.updateAPI("share"))}},renderOK:function(){Env.getDomainHost();return!0}};var getUrl=function(source){var url=!1,loc=window.location;return url="twitter"===source?$("link[rel='shorturl']").attr("href"):CONST.pageMeta.property["og:url"]?CONST.pageMeta.property["og:url"]:loc.protocol+"//"+loc.hostname+loc.pathname};return SocialMedia}(),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/social-buttons-top",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:SocialMediaShare","FOX_PLUGINS:SocialMediaCountParsely"],function(require,$){var FOX_ARTICLE_INFO=require("FOX_ARTICLE_INFO"),FOX_ARTICLE_CQ=require("FOX_ARTICLE_CQ"),SocialMediaShare=require("FOX_PLUGINS:SocialMediaShare"),MediaCount=require("FOX_PLUGINS:SocialMediaCountParsely"),INITIALIZED=!1,Helper=require("helper"),App=function(){this._isBetaShare=!1};App.prototype.init=function(){var self=this;return INITIALIZED?!1:(INITIALIZED=!0,void $(".social-count:first").each(function(){self.set($(this))}))},App.prototype.set=function(holder){var self=this;("fnc"===Helper.getSiteId()||"fbn"===Helper.getSiteId())&&self.setAddThis(holder),self.setPrint(holder),self.setSms(holder),self._isBetaShare?self.setBetaSharing(holder):(self.setCommentLink(holder),useNative()?(self.setSharingNative(holder),self.setCounts()):(holder.find("> div > a:not(.lf-comment):not(.email):not(.print)").each(function(){var el=$(this),provider=el.find("> span").text().toLowerCase();self.setSharing(el,provider)}),self.setCounts()));var win=$(window),footer=$("footer#bottom"),timeout=!1;win.on("scroll.ArticleSocialCount",function(){clearTimeout(timeout),timeout=setTimeout(function(){var footerOffset=footer.length>0?footer.offset().top:0;"fixed"===holder.css("position")&&win.scrollTop()+win.height()>footerOffset?holder.hasClass("hide")||holder.addClass("hide"):holder.removeClass("hide")},50)})},App.prototype.setSharingNative=function(holder){var config={},Sharing=SocialMediaShare;holder.find("> div > a").each(function(){var el=$(this),countEl=el.find("~ span:first"),provider=el.find("> span").text().toLowerCase();config[provider]||(config[provider]=[]),config[provider].push({target:el,title:getTitle(),shortUrl:$("link[rel='shorturl']:first").attr("href")||!1,url:FOX_ARTICLE_INFO.url||$("link[rel='canonical']:first").attr("href"),event:{count:function(count){countEl.html(count)}}})}),Sharing(config)},App.prototype.setSharing=function(el,provider){var shareInfo={};shareInfo.title=getTitle(),shareInfo.desc=getDescription(),shareInfo.image=getThumbnail(),shareInfo.actLink=getUrl(),shareInfo.linkBack=getUrl(),shareInfo.userMessage="";var options={provider:provider,data:shareInfo};el.bind("click",function(){return window.FOX_ShareMedia&&"function"==typeof window.FOX_ShareMedia.showShare&&window.FOX_ShareMedia.showShare(options),!1})},App.prototype.setBetaSharing=function(holder){var div=$('<div class="janrainSocialPlaceholder"></div>'),defaultMessage=(window.location.search,getTitle()),attrs={"data-janrain-shorten-url":!1,"data-janrain-url":getUrl(),"data-janrain-title":getTitle(),"data-janrain-description":getDescription(),"data-janrain-image":getThumbnail(),"data-janrain-message":defaultMessage};div.attr(attrs),holder.addClass("beta-share"),holder.html(div);var currentProvider=null;window.janrainSocialOnLoad=function(){janrain.social.lastShareId.subscribe(function(newId){switch(currentProvider){case"twitter":$.ad.track({"twttr-tweet":{}});break;case"facebook":$.ad.track({"fb-share":{}})}});var providerRegex=/^janrainProvider janrain_(\D+)Button$/i;$(".janrainProviderList .janrainProvider").bind("click",function(){var btn=$(this),match=(btn.attr("class")||"").match(providerRegex);return match&&(currentProvider=(match[1]||"").toLowerCase()),!1})},$.loadAttempt(50,250,function(){return window.janrain&&janrain.settings&&janrain.settings.social?!0:!1},function(){var s=document.createElement("script");s.async=!0,s.src="//cdn-social.janrain.com/social/janrain-social.min.js",(document.getElementsByTagName("head")||document.getElementsByTagName("body"))[0].appendChild(s)})},App.prototype.setCounts=function(){var self=this,url=FOX_ARTICLE_INFO.url||$("link[rel='canonical']:first").attr("href"),inUrl="http://www.linkedin.com/countserv/count/share?url="+url+"&format=jsonp",googlePlusUrl="http://"+window.location.host+"/feeds/p/gplus/count/?url="+url;setCounts(null,"fbk","jsonp",self),setCounts(null,"twt","jsonp",self),setCounts(inUrl,"in","jsonp",self),setCounts(googlePlusUrl,"gplus","json",self)},App.prototype.setCommentLink=function(holder){return"true"!==FOX_ARTICLE_INFO.commenting?!1:void holder.find("> div > a.lf-comment").each(function(){var el=$(this),span=el.find("> span");$('<span class="livefyre-commentcount" data-lf-cc-format="${count}"></span>').insertAfter(el),span.html("livefyre"),el.bind("click",function(evt){evt.preventDefault();var fyreDiv=$(".fyre"),commentingDiv=$(".commenting, #commenting"),scrollDiv=fyreDiv.length?fyreDiv:commentingDiv;try{$("html, body").animate({scrollTop:scrollDiv.position().top},"slow")}catch(err){console.log(err)}return!1})})},App.prototype.setAddThis=function(holder){var email=holder.find("a.email"),ident="addthis_toolbox";if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&Helper.isTabletOrMobileView())$(email).on("click",function(){window.location.href="mailto:?subject="+encodeURIComponent(getTitle().trim()+" | FOX Business")+"&body="+encodeURIComponent(getDescription().trim())+"%0D%0A%0D%0A"+getUrl()});else{if(holder.addClass(ident),email.addClass("addthis_button_email"),window.addthis_pub="foxnews",email.length>0)if(0===$("#addthis-widget-include").length){var script=document.createElement("script");script.src="//s7.addthis.com/js/300/addthis_widget.js#domready=1",script.id="addthis-widget-include",script.async=!0,(document.getElementsByTagName("head")||document.getElementsByTagName("body"))[0].appendChild(script)}else $.loadAttempt(50,150,function(){return window.addthis?!0:!1},function(){window.addthis.toolbox("."+ident)});$(email).on("click",function(){window.auth_fox.omniture.emailShareStart()}),$(document).keyup(function(event){27===event.keyCode&&$("#at3winheaderclose").trigger("click")})}},App.prototype.setPrint=function(holder){var loc=window.location,target=holder.find("> div > a.print");target.each(function(){var url,a=$(this);FOX_ARTICLE_CQ?(url=a.attr("href"),a.attr("href","#")):(url=loc.protocol+"//"+(loc.host||loc.hostname)+loc.pathname,url=url+("/"!==url.charAt(url.length-1)?"/":"")+"print"),a.bind("click",function(evt){return evt.preventDefault(),window.open(url,"_blank","width=660,scrollbars=yes,toolbar=no,location=no,menubar=yes,resizable=no"),!1})})},App.prototype.setSms=function(holder){function getMobileOperatingSystem(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)||userAgent.match(/iPod/i)?(v=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),ver=parseInt(v[1],10),linkString=ver>=8?"sms:&body="+url:"sms:;body="+url,$(".sms").attr("href",linkString)):userAgent.match(/Android/i)?(v=navigator.appVersion.match(/Android (\d+).(\d+).?(\d+)?/),ver=parseInt(v[1],10),linkString="sms:?body="+url,$(".sms").attr("href",linkString)):(linkString="sms:?body="+url,$(".sms").attr("href",linkString))}var v,target=holder.find("a.sms"),url=$("link[rel='shorturl']").attr("href"),linkString="";return target.length<=0?!1:void getMobileOperatingSystem()},App.prototype.ajaxCall=function(url,dataType,callbackFN){return null===url?!1:void $.ajax({url:url,dataType:dataType,success:callbackFN})};var useNative=function(){var ret=!1,hasOrientation="onorientationchange"in window?!0:!1;return hasOrientation&&$(window).width()<=1024&&(ret=!0),window.location.search.indexOf("_native_share=1")>-1&&(ret=!0),ret},setCounts=function(url,sel,dataType,self){$("span."+sel).each(function(){var elm=$(this),siteId="fnc"===Helper.getSiteId()?"fn":Helper.getSiteId(),link=function(){var canonical=$("link[rel='canonical']:first").prop("href"),og=$("meta[property='og:url']:first").prop("content"),allow=["foxnews","foxbusiness"],cdomain=(canonical.split(".com/")[0]||"").split(".");cdomain=cdomain.length>0?cdomain[cdomain.length-1]:"";var url=cdomain&&$.inArray(cdomain,allow)>-1?canonical:og;return url}();"fbn"===siteId&&(siteId="fb"),null===url?MediaCount.get([link],{type:siteId},function(data){var shares=0;try{"fbk"===sel&&(shares=data[link].fb),"twt"===sel&&(shares=data[link].tw)}catch(err){console.log("err",err)}elm.html(shares)}):self.ajaxCall(url,dataType,$.proxy(function(sel,data){var shares=0;try{"fbk"===sel&&(shares=data.data[0].share_count),"twt"===sel&&(shares=data.count),"in"===sel&&(shares=data.count),"gplus"===sel&&(shares=data.result.metadata.globalCounts.count)}catch(err){}elm.html(shares)},self,sel))})},getTitle=function(){var twitterTitle=$("meta[name='twitter:title']").attr("content");return twitterTitle?twitterTitle:$("meta[property='og:title']").attr("content")},getDescription=function(){return $("meta[property='og:description']").attr("content")},getThumbnail=function(){return $("meta[property='og:image']:first").attr("content")},getUrl=function(){var ret,shortUrl=$("link[rel='shorturl']:first").attr("href")||!1,ogUrl=$("meta[property='og:url']:first").attr("content");return ret=shortUrl?shortUrl:ogUrl},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/social-buttons-video",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:SocialMediaShare"],function(require,$){var SocialMediaShare=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:SocialMediaShare")),App=(require("helper"),function(){this._isBetaShare=!1});App.prototype.set=function(holder,data){var self=this;useNative()?self.setSharingNative(holder,data):holder.find("li:not(.email) > a").each(function(){var el=$(this),provider=el.attr("class");self.setSharing(el,provider,data)})},App.prototype.setSharingNative=function(holder,data){var config={},Sharing=SocialMediaShare;holder.find("li:not(.email) > a").each(function(){var el=$(this),provider=el.attr("class");config[provider]||(config[provider]=[]),config[provider].push({target:el,title:data.title,shortUrl:data.link,url:data.link})}),Sharing(config)},App.prototype.setSharing=function(el,provider,data){var shareInfo={};shareInfo.title=data.title,shareInfo.desc=data.description,shareInfo.image=data["media-group"]["media-thumbnail"]["@attributes"].url,shareInfo.actLink=data.link,shareInfo.linkBack=data.link,shareInfo.userMessage="";el.bind("click",function(evt){evt.preventDefault(),"twitter"===provider?window.open("//twitter.com/intent/tweet?text="+encodeURIComponent(data.title)+"&url="+encodeURIComponent(data.link),"_blank","status=1,height=334,width=660"):"facebook"===provider&&window.open("//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(data.link),"_blank","status=1,height=334,width=660");
})},App.prototype.setAddThis=function(holder,data){var email=holder.find("li.email a"),ident="addthis_toolbox";if(holder.addClass(ident),email.addClass("addthis_button_email"),window.addthis_pub="foxnews",email.length>0)if(email.attr({"addthis:url":data.link,"addthis:title":data.title}),0===$("#addthis-widget-include").length){var script=document.createElement("script");script.src="//s7.addthis.com/js/300/addthis_widget.js#domready=1",script.id="addthis-widget-include",script.async=!0,(document.getElementsByTagName("head")||document.getElementsByTagName("body"))[0].appendChild(script)}else $.loadAttempt(50,150,function(){return window.addthis?!0:!1},function(){window.addthis.toolbox("."+ident)})};var useNative=function(){var ret=!1,hasOrientation="onorientationchange"in window?!0:!1;return hasOrientation&&$(window).width()<=1024&&(ret=!0),window.location.search.indexOf("_native_share=1")>-1&&(ret=!0),ret},APP=new App;return APP}),Modulr.define("FOX_ARTICLES:modules/sponsored-articles",["require","jquery"],function(require,$){var holder=$("#content .sponsored-article");if(holder.length){var button=$(holder).find("> div > a");button.length&&button.on("click",function(event){event.preventDefault(),$(this).hide();var disclaimer=$(this).closest(".sponsored-article").find(".disclaimer");return disclaimer.length&&(disclaimer.is(":visible")?disclaimer.hide():disclaimer.show()),!1})}}),Modulr.define("FOX_ARTICLES:modules/sticky-video-bar",["require","jquery","lodash","helper","FOX_PLUGINS:OnWindowResize","FOX_VIDEO_EMBED:api","modules/bigtop-video-player"],function(require,$,_,Helper){var originalView,timeout,long_title,scroll,article=Helper.getArticleBody(),vid_container=$(".video-container:first"),vid_holder=article.find("div[data-video-id]:first"),player_container=$(".fox-video.main-player:first"),scrolled=!1,bigtop_height=418,desk_dim=[612,344],sticky_dim=[400,225],BigtopPlayer=require("modules/bigtop-video-player"),OnWindowResize=require("FOX_PLUGINS:OnWindowResize"),VideoEmbedAPI=(new EventMessageHandler({prefix:FOX_Video_Instance.Config.events.prefix}),require("FOX_VIDEO_EMBED:api")),FOX_Videos=VideoEmbedAPI.embed.fox,isCQ=window.FOX_pagedescriptor&&"true"===window.FOX_pagedescriptor.cq?!0:!1,win=$(window);vid_holder.find(".vid-title");if(vid_holder.length<1||Helper.isMobileView(767)||!isCQ)return!1;var App=function(){var Proto=this,INITIALIZED=!1,TITLE_CHECK=!1,PLAYER_READY=!1,VIDEO_STATUS={PAUSED:!1,STICKY:!1,CLOSED:!1,HIDDEN:!1};Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,originalView=Proto.checkView(),Proto.setBackgroundHeight("auto"),VIDEO_STATUS.PAUSED=BigtopPlayer.isAutoplay()?!1:!0,VIDEO_STATUS.STICKY=vid_holder.hasClass("sticky")?!0:!1,long_title=vid_holder.find(".title p").text(),originalView)},Proto.checkView=function(){var ret=Helper.isTabletView()?"tablet":"desktop";return ret},Proto.setBackgroundHeight=function(height){vid_container.css("height",height)},Proto.reverseAnimate=function(){return vid_container.removeClass("sticky-video sticky-right"),player_container.width(desk_dim[0]).height(desk_dim[1]),TITLE_CHECK&&vid_holder.find(".title p").html(long_title),scrolled=!1},Proto.vidTitleCheck=function(){var short_title;vid_holder.find(".title p");return short_title=$.strTruncate(long_title,88,!0,"..."),TITLE_CHECK=!0},Proto.setDefaultState=function(){vid_container.attr("class","video-container"),vid_holder.attr("class","m video-player"),vid_holder.find(".fox-video[data-unique-id]").each(function(){FOX_Videos.API.enablePlayerButton($(this).attr("data-unique-id"),"shareBtn")}),VIDEO_STATUS.STICKY=!1},Proto.scrollToPlayer=function(){var target=$("html, body");target.animate({scrollTop:article.offset().top},500,"swing",function(){VIDEO_STATUS.STICKY=!1,Proto.reverseAnimate()})},Proto.collapsePlayer=function(callback){setTimeout(function(){vid_holder.addClass("slide-out")},400),Proto.setDefaultState(),"function"==typeof callback&&callback()},Proto.closeJanrainModule=function(){var janrain=$("#janrainModalOverlay"),modal=$("#janrain-share");return janrain.is(":visible")?void modal.find("a.janrain_modal_closebutton").trigger("click"):!1},Proto.closePlayer=function(winSize){var device=winSize?winSize:originalView;VIDEO_STATUS.STICKY&&("tablet"===device?Proto.collapsePlayer(function(){setTimeout(function(){vid_holder.addClass("m paused")},500)}):Proto.reverseAnimate()),setTimeout(function(){vid_holder.find(".fox-video[data-unique-id]").each(function(){FOX_Videos.API.enablePlayerButton($(this).attr("data-unique-id"),"shareBtn")})},1e3),VIDEO_STATUS.PAUSED=!0,VIDEO_STATUS.CLOSED=!0},Proto.runTransition=function(){function tabletTransition(){vid_container.addClass("sticky-video sticky-top"),vid_holder.addClass("fade-in").delay(1e3)}function desktopTransition(){vid_holder.outerHeight();vid_holder.addClass("fade-out"),vid_container.addClass("sticky-video sticky-right").delay(250),player_container.width(sticky_dim[0]).height(sticky_dim[1]),vid_holder.removeClass("fade-out").addClass("fade-in").delay(300),scrolled=!0}VIDEO_STATUS.STICKY=!0,long_title&&TITLE_CHECK||(long_title=vid_holder.find(".title p").text()),"tablet"===originalView?tabletTransition():desktopTransition(),vid_holder.find(".fox-video[data-unique-id]").each(function(){FOX_Videos.API.disablePlayerButton($(this).attr("data-unique-id"),"shareBtn")}),long_title.length>162&&Proto.vidTitleCheck()},OnWindowResize(function(){var view=Proto.checkView();if(view!==originalView){var uid=vid_holder.find(".fox-video").attr("data-video-id");FOX_Videos.pause(uid),Proto.closePlayer(originalView),VIDEO_STATUS.CLOSED=!0,VIDEO_STATUS.PAUSED=!0,originalView=view}return originalView});var scrollCond=_.throttle(function(){if(VIDEO_STATUS.HIDDEN||!PLAYER_READY)return!1;if(scroll=win.scrollTop(),Proto.closeJanrainModule(),scroll<=article.offset().top)scrolled&&"desktop"===originalView?Proto.reverseAnimate():(Proto.setBackgroundHeight(bigtop_height),Proto.setDefaultState()),VIDEO_STATUS.STICKY=!1;else if(scroll>article.offset().top){if(VIDEO_STATUS.PAUSED||(VIDEO_STATUS.CLOSED=!1),VIDEO_STATUS.CLOSED)return!1;VIDEO_STATUS.PAUSED=vid_holder.hasClass("paused")?!0:!1,VIDEO_STATUS.STICKY=VIDEO_STATUS.PAUSED?!1:!0,Proto.runTransition()}VIDEO_STATUS.HIDDEN=!1},200);vid_holder.on("click","a.hide",function(e){e.preventDefault(),Proto.scrollToPlayer()}),vid_holder.on("click","a.close",function(e){e.preventDefault();var uid=vid_holder.find(".fox-video").attr("data-video-id");FOX_Videos.pause(uid),VIDEO_STATUS.STICKY?(clearTimeout(timeout),timeout=setTimeout(function(){Proto.closePlayer()},25)):vid_holder.addClass("m paused"),VIDEO_STATUS.CLOSED=!0}),BigtopPlayer.onPause(function(){return VIDEO_STATUS.STICKY||vid_holder.addClass("m paused"),VIDEO_STATUS.PAUSED=!0,VIDEO_STATUS.PAUSED}),BigtopPlayer.onPlay(function(){return PLAYER_READY=!0,VIDEO_STATUS.PAUSED=!1,vid_holder.removeClass("paused"),scrollCond(!1),VIDEO_STATUS.PAUSED}),BigtopPlayer.onAdvance(function(){return long_title=vid_holder.find(".title p").text(),TITLE_CHECK=!1}),win.bind("mousewheel DOMMouseScroll wheel touchmove scroll gesturechange",function(event){scrollCond()}),win.load(function(){$(window).scrollTop()>article.offset().top&&(VIDEO_STATUS.STICKY=!1,scrollCond())}),$(document).load(function(){$(window).scrollTop()>article.offset().top&&(VIDEO_STATUS.STICKY=!1,scrollCond())})},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:modules/sticky",["require","jquery","helper","FOX_PLUGINS:OnWindowResize","FOX_PLUGINS:ElementResizeListener","FOX_PLUGINS:OnScroll","modules/bigtop-video-player"],function(require,$,Helper){function set(){INITIALIZED?setState():(INITIALIZED=!0,resetBreakpoint(),article.addClass("has-sticky-video"),article.find(".article-text").prepend('<div class="video-placeholder"></div>'),holder.css("height","auto"),OnScroll(function(){VIEW_STATE&&setState()},0),BigTopPlayer.isAutoplay()&&setState(!0),BigTopPlayer.onPause(function(){setPauseEvent()}))}function setState(onInit){win.scrollTop()>=breakpoint?(LAST_TRANSITION_REQUEST="sticky",onInit?setStickyState():BigTopPlayer.isPlaying()&&setStickyState()):(LAST_TRANSITION_REQUEST="default",setDefaultState())}function resetBreakpoint(){IS_STICKY||(breakpoint=holder.offset().top+(holder.outerHeight()-STICKY_HEIGHT))}function setStickyState(){return IS_STICKY||IS_TRANSITIONING?!1:(IS_STICKY=!0,IS_TRANSITIONING=!0,setStickyButtons(),closeJanrain(),HOLDER_HEIGHT=holder.outerHeight(),article.find(".article-text .video-placeholder").css({height:HOLDER_HEIGHT,margin:holder.css("margin"),padding:holder.css("padding")}),resetClasses(),holder.addClass("fade-out sticky-video expanded"),holder.delay(1e3).addClass("fade-in").delay(1e3).removeClass("fade-in"),BigTopPlayer.setPlayerButton("shareBtn",!1),void setTimeout(function(){IS_TRANSITIONING=!1,triggerLastRequest()},1e3))}function setDefaultState(force){return force||IS_STICKY&&!IS_TRANSITIONING?(IS_STICKY=!1,IS_TRANSITIONING=!0,holder.css("position","absolute"),resetClasses(),HOLDER_HEIGHT="",BigTopPlayer.setPlayerButton("shareBtn",!0),void setTimeout(function(){holder.css("position",""),article.find(".article-text .video-placeholder").css({height:"",margin:"",padding:""}),resetBreakpoint(),IS_TRANSITIONING=!1,force?LAST_TRANSITION_REQUEST="":triggerLastRequest()},1e3)):!1}function setStickyButtons(){var title=holder.find(".vid-title");return title.find("a.close").length>0?!1:(title.append('<a class="hide" href="#"></a><a class="close" href="#"></a>'),title.find("a.close").on("click",function(evt){return evt.preventDefault(),setCloseEvent(),!1}),void title.find(".hide").on("click",function(evt){return evt.preventDefault(),setScrollBackEvent(),!1}))}function setCloseEvent(){setPauseEvent(!0),BigTopPlayer.pause()}function setScrollBackEvent(){$("html, body").animate({scrollTop:article.offset().top},800,"swing")}function setPauseEvent(noDelay){IS_STICKY&&(IS_STICKY=!1,IS_TRANSITIONING=!0,setTimeout(function(){holder.addClass("slide-out"),setTimeout(function(){setDefaultState(!0)},1e3)},noDelay?0:1e3))}function closeJanrain(){var overlay=$("#janrainModalOverlay"),modal=$("#janrain-share");overlay.is(":visible")&&modal.find("a.janrain_modal_closebutton").trigger("click")}function triggerLastRequest(){LAST_TRANSITION_REQUEST&&("sticky"!==LAST_TRANSITION_REQUEST||IS_STICKY?"default"===LAST_TRANSITION_REQUEST&&IS_STICKY&&setDefaultState():setStickyState(),LAST_TRANSITION_REQUEST=null)}function resetClasses(){holder.removeClass("sticky-video expanded fade-out fade-in slide-out")}function isView(){var ret=Helper.isMobileView(767)?!1:Helper.isTabletView()?"tablet":"desktop";return ret}var breakpoint,OnWindowResize=require("FOX_PLUGINS:OnWindowResize"),OnScroll=require("FOX_PLUGINS:OnScroll"),BigTopPlayer=(require("FOX_PLUGINS:ElementResizeListener"),require("modules/bigtop-video-player")),ARTICLE_BODY=Helper.getArticleBody(),meta=$("meta[name='featured-video']"),article=ARTICLE_BODY,holder=ARTICLE_BODY.find("> div.m:first"),win=$(window);if(0===meta.length)return!1;var INITIALIZED=!1,IS_STICKY=!1,IS_TRANSITIONING=!1,LAST_TRANSITION_REQUEST=!1,VIEW_STATE=isView(),HOLDER_HEIGHT=null,STICKY_HEIGHT=225;VIEW_STATE&&set(),OnWindowResize(function(){isView()&&!INITIALIZED?(VIEW_STATE=isView(),set()):IS_STICKY?isView()||(VIEW_STATE=isView(),setDefaultState()):VIEW_STATE=isView()})}),Modulr.define("FOX_ARTICLES:sites/fbn/main",["require","jquery","helper"],function(require,$){var Helper=require("helper");Helper.log("FOX Business");var modulePaths=Helper.setModulePaths("sites/fbn/modules/",["media-overlay","newsletter","outbrain","trending","breaking-news","market-snapshot","business-exchange"]);require(modulePaths)}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/breaking-news",["require","jquery","lodash","FOX_GLOBAL:utils/environment"],function(require,$){var Env=require("FOX_GLOBAL:utils/environment"),App=function(){};App.prototype.init=function(){var self=this;$(".alert").each(function(){self.set($(this))})},App.prototype.set=function(elm){var self=this,fn="fox_header_breakingnews",url=(Env.isProd()?"//www.foxbusiness.com":"")+"/static/all/generated/js/fb2-breaking-news.js";window[fn]=function(data){return data?void self.render(data,elm):!1},function(){var d=document,s=d.createElement("script");s.src=url,s.async=!0,(d.getElementsByTagName("head")[0]||d.getElementsByTagName("body")[0]).appendChild(s)}()},App.prototype.render=function(data,elm){var x,titles={livenews:"Live News",breakingnews:"Breaking News",specialcoverage:"Special Coverage",marketalert:"Market Alert",developingstories:"Developing Story",programmingalert:"Programming Alert"},html=function(info){var html=[],type=info.type.toLowerCase(),title=titles[type]?titles[type]:titles.breakingnews;return html.push('<div><a href="#" class="close">Close</a><h2>- '+title+" -</h2>"),info.link?html.push('<a href="'+info.link+'">'+info.title+"</a>"):html.push("<p>"+info.title+"</p>"),html.push("</div>"),html.join("")},arr=[],limit=1;for(x=0;limit>x&&data[x];x++)arr.push(html(data[x]));elm.html(arr.join("")),elm.find(".close").click(function(){elm.hide()})};var APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/business-exchange",["require","jquery","lodash","helper","FOX_GLOBAL:utils/ajax","FOX_GLOBAL:utils/environment","FOX_TEMPLATES:controls/api","FOX_PLUGINS:OnWindowResize"],function(require,$,_,Helper){function render(target,data){Template.get("/static/v/all/js/amd/apps/articles/app/templates/business-exchange.html",function(markup){markup=_.template(markup,data),target.html(markup)})}function normalize(data){for(var items=data&&data.mostpopular&&data.mostpopular.story?data.mostpopular.story:[],pixel=data&&data.header&&data.header.generator?data.header.generator:!1,rows=[[]],i=0;i<items.length;i++){var item=items[i],index=rows.length-1;item.img=item.thumb.img["@attributes"].src,rows[index].length<2?rows[index].push(item):rows.push([item])}var info={title:"From Our Partners",rows:rows,pixel:pixel};return info}function loadFeed(callback){$.ajax({url:CONST.feed,data:{cb:AjaxUtil.cacheBuster(2)},dataType:"jsonp",jsonpCallback:"bizExComm",cache:!0}).done(function(data){return data?void callback(data):!1})}var AjaxUtil=require("FOX_GLOBAL:utils/ajax"),Template=(require("FOX_GLOBAL:utils/environment"),require("FOX_TEMPLATES:controls/api")),CONST=(require("FOX_PLUGINS:OnWindowResize"),{feed:"//apps.foxnews.com/rest-call/crowd-ignite/?site=fb&type=businessExchange",items:4}),App=function(){var Proto=this;Proto.initialized=!0;var target=$("#partner-business-exchange");return 0===target.length?!1:void loadFeed(function(data){render(target,normalize(data))})};return new App}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/market-snapshot",["require","jquery","lodash","helper"],function(require,$){var App=function(root){this.root=root};App.prototype.init=function(){var self=this,tickerSymbol=$("a.hover"),showTicker=$(".show-ticker"),loadIframe=($(".ticker-popup"),$(".close"),$(this).find(showTicker),function(elm,url,ifrClass){elm.find("iframe."+ifrClass).attr("src",url),"stockChart"===ifrClass&&elm.find("iframe."+ifrClass).load(function(){$(".loading").hide()})}),set=function(elm,tickerSymbol){var tickerName=elm.text()||"&nbsp;",popup=elm.find(".ticker-popup"),tickerValue=function(){var ret=elm.text()||"";switch(ret=ret.toUpperCase()){case"DJI":ret="I:DJI",tickerName="DOW JONES";break;case"COMP":ret="I:COMP",tickerName="NASDAQ";break;case"INX":tickerName="S&P 500";break;case"IXIC":ret="I:COMP",tickerName="NASDAQ";break;case"GSPC":ret="INX",tickerName="S&P 500"}return ret}();if(closePopup($(".ticker-popup").filter(function(){return $(this).closest(".ticker-symbol > a").is(elm)?!1:!0})),popup.size()>0)return showPopup(popup),!1;var html='<div class="ticker-popup"><a class="close"> <img width="25" height="26" class="close" alt="" src="/static/v/all/img/close-x.png" /></a> <h2><a href="//quote.foxbusiness.com/symbol/'+tickerValue+'#news">'+tickerName+'</a></h2>  <div class="chart"> <iframe class="stockChart" frameborder="0" scrolling="no"></iframe><div class="loading"></div><div class="chart-layer"></div></div> <div class="sponsored-by"><iframe class="adBanner" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" height="50" width="292"></iframe></div></div>';elm.append(html),popup=elm.find(".ticker-popup");var chartUrl="//www.foxbusinessp.idmanagedsolutions.com/charts/performance/performance.chart?WIDTH=290&SYMBOL_US="+tickerValue,chartClass="stockChart",adUrl="//ad.doubleclick.net/adi/fbn.research/ticker;pos=popup;sz=292x30;ord=781297988?",adClass="adBanner";loadIframe(popup,chartUrl,chartClass),loadIframe(popup,adUrl,adClass),$(".chart-layer").css({background:"#fff",position:"absolute",opacity:"0",top:"0",left:"0",width:"290px",height:"200px"}),popup.find("h2").bind("click",function(){window.location.href="//quote.foxbusiness.com/symbol/"+tickerValue+"#news"}),popup.find(".chart-layer").bind("click",function(){window.location.href="//quote.foxbusiness.com/symbol/"+tickerValue+"#news"}),popup.find("a.close").bind("click",function(){closePopup(popup)}),"block"===popup.css("display")?closePopup(popup):popup.css({display:"block",width:340,top:20,left:0,"z-index":99999})},closePopup=function(elm){elm.fadeOut("fast")},showPopup=function(elm){elm.fadeIn("fast")};$(window).bind("click",function(){self._hover||closePopup($(".ticker-popup"))}),$(window).bind("keyup",function(event){27===event.keyCode&&closePopup($(".ticker-popup"))}),tickerSymbol.each(function(){var setting=$(this),isDesktop=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)===!1;setting.bind("click",function(event){return isDesktop?(event.preventDefault(),!1):void 0}),isDesktop&&setting.hover(function(){self._hover=!0,set($(this))},function(){self._hover=!1})})};var APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/media-overlay",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:MediaIconOverlay","FOX_PLUGINS:OnWindowResize"],function(require,$){var MediaIconOverlay=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:MediaIconOverlay")),OnWindowResize=require("FOX_PLUGINS:OnWindowResize"),App=function(){function embed(){var images=$(".m");images.each(function(){var $this=$(this),$img=$this.find("img");$this.find(".overlay-media").replaceWith($img);var li=$this.closest("li");$this.closest("section");li.length||(li=$this.closest("div")),overlay.embed({target:$img,type:getType(li)})}),$("section.mod-6 > div").each(function(){var el=$(this),img=el.find(".m img");overlay.embed({target:img,type:getType(el)})})}function getType(holder){for(var sp=(holder.attr("class")||"").split(" "),type=!1,x=0;x<sp.length;x++)if(sp[x].indexOf("-ct")>-1){var t=sp[x].split("-ct")[0]||!1;if(t){type=t;break}}return type}var Proto=this,INITIALIZED=!1,overlay=new MediaIconOverlay;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void Proto.set($(this)))},Proto.set=function(target){embed(),OnWindowResize(function(){embed()})}},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/newsletter",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:NewslettersForm"],function(require,$){var NewslettersForm=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("helper"),require("FOX_PLUGINS:NewslettersForm")),App=function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $("#rail .subscribe form").each(function(){Proto.set($(this))}))},Proto.set=function(form){var input=form.find("input[type='text']"),config={elm:form,SLID:form.find("input[type='hidden'][name='SLID']").val(),INPUT:input,onError:function(){input.addClass("error")},onFocus:function(){input.removeClass("error")}};new NewslettersForm(config)}},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/outbrain",["require","jquery","lodash","helper","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:OutbrainWidgetConnector","FOX_GLOBAL:utils/environment","FOX_GLOBAL:utils/search-query"],function(require,$){function setChannel(channel){switch(channel){case"lifestyle":channel="leisure"}return channel}var FOX_ARTICLE_INFO=require("FOX_ARTICLE_INFO"),FOX_ARTICLE_CQ=require("FOX_ARTICLE_CQ"),Connector=require("FOX_PLUGINS:OutbrainWidgetConnector"),Env=require("FOX_GLOBAL:utils/environment"),SearchQuery=require("FOX_GLOBAL:utils/search-query"),Helper=require("helper"),CONST={},INITIALIZED=!1;CONST.useUrl={},CONST.widgets={1:"AR_13",3:"AR_18",4:"AR_17",5:"AR_16",6:"MB_1",7:"AR_20",8:"AR_21"},CONST.overlayDim={AR_18:32,AR_17:32};var App=function(){};App.prototype.init=function(){if(INITIALIZED)return!1;INITIALIZED=!0;var target,obdivs,self=this;return obdivs=$(".fox-ob-placement"),FOX_ARTICLE_CQ&&"outbrain"!==FOX_ARTICLE_INFO.baynoteOrOutbrain?!1:(FOX_ARTICLE_CQ||$("#rail > .outbrain:first").remove(),$(obdivs).addClass("OUTBRAIN"),target=$(".OUTBRAIN[data-article-placement]"),0===target.length?!1:(self.OB=new Connector,void self.getPermalink(function(permalink){self.set(target,permalink)})))},App.prototype.set=function(target,permalink){var self=this,OB=self.OB,config=[],widgets=CONST.widgets;target.each(function(){var el=$(this),placementId=el.attr("data-article-placement"),id=widgets[placementId]?widgets[placementId]:!1,overlayDim=CONST.overlayDim[id]?CONST.overlayDim[id]:!1;if(id&&self.isLoadWidget(placementId)){el.attr("data-widget-id",id);var domain=Env.getDomainHost(),template="foxbusiness";switch(domain=domain.replace(".com","")){case"latino.foxnews":template="foxnewslatino";break;case"smallbusiness.foxbusiness":template="foxsmallbusiness";break;case"foxnews":template="foxnews"}el.attr("data-ob-template",template),el.attr("data-src",permalink),config.push({addWidgetType:"data-widget",permalink:permalink,widgetId:id,Template:template,overlayDim:overlayDim,langJS:"//widgets.outbrain.com/lang_en.js"})}else id&&!self.isLoadWidget(placementId)&&el.remove()}),config.length>0&&OB.addWidget(config)},App.prototype.isLoadWidget=function(placementId){var ret=!0;return(("4"===placementId||"3"===placementId)&&Helper.isTabletOrMobileView()||["1","3","5"].indexOf(placementId)>-1&&Helper.isMobileView()||"6"===placementId&&!Helper.isMobileView())&&(ret=!1),ret},App.prototype.getPermalink=function(callback){var loc=window.location,permalink=loc.protocol+"//"+(loc.host||loc.hostname)+loc.pathname,domain=Env.getDomainHost(!0,!0),useDomain=-1===domain.indexOf("latino.")&&-1===domain.indexOf("smallbusiness.")?!0:!1,customUrl=SearchQuery.getVal("_oburl");if(customUrl)callback(customUrl);else if(Env.isProd())callback(permalink);else if(useDomain){var channel="markets",callbackFN="OBCB_"+channel.replace(/[^a-z]/g,"_");if(channel=setChannel(channel),window[callbackFN])$.loadAttempt(50,250,function(){return CONST.useUrl[channel]?!0:!1},function(){callback(CONST.useUrl[channel])});else{window[callbackFN]=function(data){var useUrl=permalink;if(data&&data.response&&$.isArray(data.response.docs)&&data.response.docs.length>0){var docs=data.response.docs;if("archive"===channel)useUrl=docs[0]&&docs[0].url?docs[0].url:!1,useUrl=docs&&$.isArray(useUrl)?useUrl[0]:useUrl;else for(var x=0;x<docs.length;x++){var url=$.isArray(docs[x].url)?docs[x].url[0]:!1,ch="string"==typeof url&&url.split("/")[3]?url.split("/")[3]:!1;if(ch===channel){useUrl=url;break}}}useUrl&&!CONST.useUrl[channel]&&(CONST.useUrl[channel]=useUrl),callback(useUrl)};var url=domain+"/feeds/trending/"+channel+"/feed/json?callback="+callbackFN;$.ajax({url:url,dataType:"script",cache:!0,async:!0})}}else callback(domain)};var APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fbn/modules/trending",["require","jquery","lodash","helper"],function(require,$){function generateMarkup(data){var title,info=data.response.docs;if(0===info.length)return!1;info=info.slice(0,5);for(var html=[],x=0;x<info.length;x++){var item=info[x],description=item.title,link=item.url[0].replace(/\/$/,""),listNum=x+1;title=page.charAt(0).toUpperCase()+page.slice(1),title=title.indexOf("policy")>-1?"Economy & Policy":title.replace(/\b./g,function(m){return m.toUpperCase()}).replace(/-/g," ");var template='<li class="'+item.content_type+'-ct">                    <a href='+link+">                      <span>"+listNum+"</span>                      <h3>"+description+"</h3>                    </a>                  </li>";html.push(template)}$(".mod-8").prepend("<h2>Trending in "+title+"</h2><ul>"+html.join("")+"</ul>").append('<a class="more" href="//www.foxbusiness.com/trending">See All Trends</a>')}var callbackFB=(require("helper"),"articles");page=$('meta[name="prism.section"]').attr("content");var getTrending=function(){$.ajax({url:"//www.foxbusiness.com/feeds/trending/"+page+"/feed/json?callback="+callbackFB,dataType:"script",cache:!0})};window[callbackFB]=function(data){data&&data.response&&data.response.numFound>0?generateMarkup(data):getTrending()},$.ajax({url:"//www.foxbusiness.com/feeds/trending/"+page+"/feed/json?callback="+callbackFB,dataType:"script",cache:!0})}),Modulr.define("FOX_ARTICLES:sites/fnc/main",["require","jquery","helper"],function(require,$){var Helper=require("helper");Helper.log("FOX News");var modulePaths=Helper.setModulePaths("sites/fnc/modules/",["load-more","media-overlay","outbrain","geotarget-ad"]);require(modulePaths)}),Modulr.define("FOX_ARTICLES:sites/fnc/modules/geotarget-ad",["require","jquery","helper","modules/bigtop-video-player"],function(require,$,Helper){var VideoAPI=require("modules/bigtop-video-player"),pageType=$("meta[name='pagetype']").attr("content"),channel=$("meta[name='prism.channel']").attr("content"),section=$('meta[name="prism.section"]').attr("content"),docContent=$("#doc #content"),viewport=Helper.isMobileView?"mobile":Helper.isTabletView?"tablet":"desktop",inreadDiv=$("#inread-1x1"),loc=window.location,foxnewsArticle="article"===pageType&&"fnc"===channel?!0:!1,notAEMAuthor=Helper.isAEMAuthor()?!1:!0,queryOverride=-1!==loc.search.indexOf("test=dev")?!0:!1,adRules={viewport:"all",section:"all"};if(foxnewsArticle&&notAEMAuthor&&("all"===adRules.section||($.isArray(adRules.section)?adRules.section.indexOf(section):adRules.section===section))&&("all"===adRules.viewport||($.isArray(adRules.viewport)?adRules.viewport.indexOf(viewport):adRules.viewport===viewport))||queryOverride){inreadDiv.length<=0&&docContent.length>0&&docContent.prepend('<div class="ad gpt" data-ad-pos="inread" data-ad-size="1x1"></div>');var target=docContent.find("> div[data-ad-pos='inread']:first");VideoAPI.hasVideo()&&target.addClass("video"),$.ad.gpt.loadDynamicAd(target,!0)}}),Modulr.define("FOX_ARTICLES:sites/fnc/modules/load-more",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ"],function(require,$){var App=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),function(){var Proto=this,INITIALIZED=!1;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void $(".list-pop").each(function(){Proto.set($(this))}))},Proto.set=function(target){var setLoadMore=function(){var feed,$button,$content,fromIndex=0,template=_.template(['<li class="listpage-ct just-added"><article itemid="" itemtype="http://schema.org/NewsArticle" itemscope="">','<a data-omtr-intcmp="popularlists" href="<%= url %>" target="">','<div class="m">','<img class="image" alt="<%= title %>" src="<%= image_url %>">',"</div>",'<h3 class="headline"><%= title %></h3>',"</a>","</article></li>"].join("")),getLastArticleIndex=function(){return fromIndex+=5},resizeImage=function(u,w,h){if(isNaN(w)||isNaN(h))return u;var url=u.split("/"),dim="/"+w+"/"+h+"/";return url.splice(0,2),url.unshift("//a57.foxnews.com"),url=url.slice(0,url.length-1).join("/")+dim+url.slice(url.length-1)},getType=function(holder){for(var sp=(holder.attr("class")||"").split(" "),type=!1,x=0;x<sp.length;x++)if(sp[x].indexOf("-ct")>-1){var t=sp[x].split("-ct")[0]||!1;if(t){type=t;break}}return type};window.FX_LM_LIST=function(data){var items=data.response.docs,html="";_.each(items,function(item){item.image_url=_.first(item.image_url)||"",item.image_url=resizeImage(item.image_url,300,170),item.url=_.first(item.url)||"",html+=template(item)}),$content.append(html),$content.find(".just-added").each(function(){var elm=$(this);elm.removeClass(".just-added"),mediaOverlay.embed({target:elm.find("img"),type:getType(elm)})})};var fetch=function(){var row=getLastArticleIndex();feed=feed.replace(/start\=.*?\&/,"start="+row+"&"),$.ajax({url:feed,dataType:"script",cache:!0})};return function(button,content){$button=$(button),$content=$(content),feed="//www.foxnews.com/feeds/web/all/listpage/trending/feed/json/?start=0&rows=2&callback=FX_LM_LIST",feed||$button.hide(),$button.click(function(e){return fetch(),e.preventDefault(),!1})}}();setLoadMore(".list-pop .load",".list-pop ul")}}),APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fnc/modules/media-overlay",["require","jquery","lodash","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:MediaIconOverlay","FOX_PLUGINS:OnWindowResize"],function(require,$){var MediaIconOverlay=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ"),require("FOX_PLUGINS:MediaIconOverlay")),OnWindowResize=require("FOX_PLUGINS:OnWindowResize"),App=function(){function embed(){var images=$('.m[data-ovr-resize-ignore!="1"]');images.each(function(){var $this=$(this),$img=$this.find("img");$this.find(".overlay-media").replaceWith($img);var li=$this.closest("li");$this.closest("section");li.length||(li=$this.closest("div")),overlay.embed({target:$img,type:getType(li)})}),$("section.mod-6 > div").each(function(){var el=$(this),img=el.find(".m img");overlay.embed({target:img,type:getType(el)})})}function getType(holder){for(var sp=(holder.attr("class")||"").split(" "),type=!1,x=0;x<sp.length;x++)if(sp[x].indexOf("-ct")>-1){var t=sp[x].split("-ct")[0]||!1;if(t){type=t;break}}return type}var Proto=this,INITIALIZED=!1,overlay=new MediaIconOverlay;Proto.init=function(){return INITIALIZED?!1:(INITIALIZED=!0,void Proto.set($(this)))},Proto.set=function(target){embed(),OnWindowResize(function(){embed()})}},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/fnc/modules/outbrain",["require","jquery","lodash","helper","ENV","FOX_ARTICLE_INFO","FOX_ARTICLE_CQ","FOX_PLUGINS:OutbrainWidgetConnector","FOX_GLOBAL:utils/environment","FOX_GLOBAL:utils/search-query"],function(require,$,_,Helper,ENV){var FOX_ARTICLE_CQ=(require("FOX_ARTICLE_INFO"),require("FOX_ARTICLE_CQ")),Connector=require("FOX_PLUGINS:OutbrainWidgetConnector"),Env=require("FOX_GLOBAL:utils/environment"),SearchQuery=require("FOX_GLOBAL:utils/search-query"),INITIALIZED=!1,WIDGET_PLACEMENTS={1:"AR_9",3:"AR_10",4:"AR_14",5:"AR_16",6:"MB_3",7:"AR_20",8:"AR_21",9:"AR_22"},GEO_TARGET_REPLACEMENT={GB:{AR_14:"HOP_21"}},OVERLAY_DIM={AR_10:32,AR_14:32},App=function(){function isLoadWidget(placementId){var ret=!0;return(("4"===placementId||"3"===placementId||"9"===placementId)&&Helper.isTabletOrMobileView()||["1","3","5"].indexOf(placementId)>-1&&Helper.isMobileView()||"6"===placementId&&!Helper.isMobileView())&&(ret=!1),ret}function getPermalink(callback){var loc=window.location,permalink=$("meta[property='og\\:url']:first").attr("content")||loc.protocol+"//"+(loc.host||loc.hostname)+loc.pathname,domain=Env.getDomainHost(!0,!0),useDomain=-1===domain.indexOf("latino.")&&-1===domain.indexOf("smallbusiness.")?!0:!1,customUrl=SearchQuery.getVal("_oburl");if(customUrl)callback(customUrl);else if(Env.isProd())callback(permalink);else if(useDomain){var channel="politics",callbackFN="OBCB_"+channel.replace(/[^a-z]/g,"_");if(channel=setChannel(channel),window[callbackFN])$.loadAttempt(50,250,function(){return USE_URL[channel]?!0:!1},function(){callback(USE_URL[channel])});else{window[callbackFN]=function(data){var useUrl=permalink;if(data&&data.response&&$.isArray(data.response.docs)&&data.response.docs.length>0){var docs=data.response.docs;if("archive"===channel)useUrl=docs[0]&&docs[0].url?docs[0].url:!1,useUrl=docs&&$.isArray(useUrl)?useUrl[0]:useUrl;else for(var x=0;x<docs.length;x++){
var url=$.isArray(docs[x].url)?docs[x].url[0]:!1,ch="string"==typeof url&&url.split("/")[3]?url.split("/")[3]:!1;if(ch===channel){useUrl=url;break}}}useUrl&&!USE_URL[channel]&&(USE_URL[channel]=useUrl),callback(useUrl)};var url=domain+"/feeds/trending/"+channel+"/feed/json?callback="+callbackFN;$.ajax({url:url,dataType:"script",cache:!0,async:!0})}}else callback(domain)}function setChannel(channel){switch(channel){case"lifestyle":channel="leisure"}return channel}function geoTargetId(id){if("prod"!==ENV){var info=Helper.geoInfo,code=info.countryCode,data=GEO_TARGET_REPLACEMENT[code]||null;data&&data[id]&&(id=data[id])}return id}var Proto=this,OB_CONNECTOR=null,USE_URL={},OB_TEMPLATE=function(){var domain=Env.getDomainHost(),template="foxnews";switch(domain=domain.replace(".com","")){case"latino.foxnews":template="foxnewslatino";break;case"smallbusiness.foxbusiness":template="foxsmallbusiness";break;case"foxbusiness":template="foxbusiness"}return template}();Proto.init=function(){if(INITIALIZED)return!1;INITIALIZED=!0,FOX_ARTICLE_CQ||$("#rail > .outbrain:first").remove(),$(".fox-ob-placement").addClass("OUTBRAIN");var target=$(".OUTBRAIN");return 0===target.length?!1:(OB_CONNECTOR=new Connector,void getPermalink(function(permalink){Proto.set(target,permalink)}))},Proto.set=function(target,permalink){var OB=OB_CONNECTOR,config=[],idArr=[],pooledWidgets=["HOP_19","HOP_20"],trigger=function(el){var placementId=el.attr("data-article-placement")||null,id=null;return placementId?(id=WIDGET_PLACEMENTS[placementId]?WIDGET_PLACEMENTS[placementId]:!1,id&&isLoadWidget(placementId)?id=geoTargetId(id):el.remove()):(id=el.attr("data-widget-id")||null,id&&(id=geoTargetId(id))),pooledWidgets.indexOf(id)>-1&&Helper.isTabletOrMobileView()?void el.remove():void(id&&(idArr.push(id),el.attr({"data-widget-id":id,"data-ob-template":OB_TEMPLATE,"data-src":pooledWidgets.indexOf(id)>-1?window.location.protocol+"//www.foxnews.com/":permalink}),config.push({addWidgetType:"data-widget",widgetId:id,permalink:permalink,Template:OB_TEMPLATE,overlayDim:OVERLAY_DIM[id]||!1,langJS:"//widgets.outbrain.com/lang_en.js"})))};target.each(function(){trigger($(this))}),config.length>0&&(Helper.log("Outbrain Widgets Loaded: "+idArr.join(",")),OB.addWidget(config))}},APP=new App;APP.init()}),Modulr.define("FOX_ARTICLES:sites/main",["require","jquery","helper"],function(require,$){var Helper=require("helper"),sitePath=["sites",Helper.getSiteId(),"main"].join("/");require([sitePath]);var touchevent="ontouchstart"in document.documentElement?"touchstart":"click";!function(){var target=$("#bottom > div:first > nav");$("#bottom .index").off(touchevent).on(touchevent,function(e){return e.preventDefault(),target.toggle(),!1}),$("footer a.top:first").unbind(touchevent).bind(touchevent,function(evt){return evt.preventDefault(),$("html, body").animate({scrollTop:0},500,"swing"),!1})}()}),function(Modulr,$,DOMAIN){var uid="FOX_ARTICLES";if(Modulr.getInstance(uid))return!1;var Instance=Modulr.config({instance:uid,baseDomain:DOMAIN,baseUrl:"/static/v/all/js/amd/apps/articles/app",masterFile:"/static/v/all/js/require/modulr.master.js",packages:["FOX_GLOBAL","FOX_PLUGINS","FOX_TEMPLATES","FOX_VIDEO_EMBED"],shim:{jquery:{deps:["modernizr"],src:"/static/v/all/js/ag.jquery.js",exports:"jQuery"},modernizr:{src:"/static/v/all/js/modernizr/modernizr.js",exports:"Modernizr"},lodash:{src:"/static/v/all/js/lodash.js",exports:"_"},FOX_Videos:{src:"/static/p/video/app/embed/ag.script.js",exports:"FOX_Videos"},FOX_Polls:{src:"/static/v/all/js/apps/polls/ag.script.js",exports:"FOX_Polls"},TimeEST:{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"AKAMAI_TIME_HELPER"},GeoLocation:{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"CONST_Akamai_GEO"},"jquery.unveil":{src:"/static/v/all/js/jquery/plugins/Unveil.js",exports:"jQuery.fn.unveil"},"youtube.api":{src:"//www.youtube.com/iframe_api",exports:"YT"}}});Instance.define("ENV",[],function(){return window.FOX_ENV_STATIC}),Instance.define("FOX_ARTICLE_INFO",[],function(){return window.vcmArticleInfo||window.articleInfo||{}}),Instance.define("FOX_ARTICLE_CQ",[],function(){return window.articleInfo?!0:!1}),Instance.require(["main"])}(window.Modulr,window.jQuery,window.FOX_ENV_STATIC_DOMAIN);